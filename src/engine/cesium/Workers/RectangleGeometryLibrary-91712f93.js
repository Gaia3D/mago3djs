define(["exports","./Matrix2-b06ef836","./when-229515d6","./RuntimeError-ffe03243","./Transforms-e254a706","./ComponentDatatype-dc3af6a4"],(function(t,n,a,r,e,o){"use strict";var s=Math.cos,i=Math.sin,h=Math.sqrt,g={computePosition:function(t,n,r,e,o,g,u){var C=n.radiiSquared,c=t.nwCorner,l=t.boundingRectangle,d=c.latitude-t.granYCos*e+o*t.granXSin,M=s(d),S=i(d),w=C.z*S,m=c.longitude+e*t.granYSin+o*t.granXCos,f=M*s(m),p=M*i(m),R=C.x*f,X=C.y*p,Y=h(R*f+X*p+w*S);if(g.x=R/Y,g.y=X/Y,g.z=w/Y,r){var v=t.stNwCorner;a.defined(v)?(d=v.latitude-t.stGranYCos*e+o*t.stGranXSin,m=v.longitude+e*t.stGranYSin+o*t.stGranXCos,u.x=(m-t.stWest)*t.lonScalar,u.y=(d-t.stSouth)*t.latScalar):(u.x=(m-l.west)*t.lonScalar,u.y=(d-l.south)*t.latScalar)}}},u=new n.Matrix2,C=new n.Cartesian3,c=new n.Cartographic,l=new n.Cartesian3,d=new e.GeographicProjection;function M(t,a,r,e,o,s,i){var h=Math.cos(a),g=e*h,c=r*h,M=Math.sin(a),S=e*M,w=r*M;C=d.project(t,C),C=n.Cartesian3.subtract(C,l,C);var m=n.Matrix2.fromRotation(a,u);C=n.Matrix2.multiplyByVector(m,C,C),C=n.Cartesian3.add(C,l,C),s-=1,i-=1;var f=(t=d.unproject(C,t)).latitude,p=f+s*w,R=f-g*i,X=f-g*i+s*w,Y=Math.max(f,p,R,X),v=Math.min(f,p,R,X),O=t.longitude,_=O+s*c,x=O+i*S,G=O+i*S+s*c;return{north:Y,south:v,east:Math.max(O,_,x,G),west:Math.min(O,_,x,G),granYCos:g,granYSin:S,granXCos:c,granXSin:w,nwCorner:t}}g.computeOptions=function(t,a,e,s,i,h,g){var u,C,S,w,m,f=t.east,p=t.west,R=t.north,X=t.south,Y=!1,v=!1;R===o.CesiumMath.PI_OVER_TWO&&(Y=!0),X===-o.CesiumMath.PI_OVER_TWO&&(v=!0);var O=R-X;S=(m=p>f?o.CesiumMath.TWO_PI-p+f:f-p)/((u=Math.ceil(m/a)+1)-1),w=O/((C=Math.ceil(O/a)+1)-1);var _=n.Rectangle.northwest(t,h),x=n.Rectangle.center(t,c);0===e&&0===s||(x.longitude<_.longitude&&(x.longitude+=o.CesiumMath.TWO_PI),l=d.project(x,l));var G=w,P=S,W=n.Rectangle.clone(t,i),y={granYCos:G,granYSin:0,granXCos:P,granXSin:0,nwCorner:_,boundingRectangle:W,width:u,height:C,northCap:Y,southCap:v};if(0!==e){var I=M(_,e,S,w,0,u,C);if(R=I.north,X=I.south,f=I.east,p=I.west,R<-o.CesiumMath.PI_OVER_TWO||R>o.CesiumMath.PI_OVER_TWO||X<-o.CesiumMath.PI_OVER_TWO||X>o.CesiumMath.PI_OVER_TWO)throw new r.DeveloperError("Rotated rectangle is invalid.  It crosses over either the north or south pole.");y.granYCos=I.granYCos,y.granYSin=I.granYSin,y.granXCos=I.granXCos,y.granXSin=I.granXSin,W.north=R,W.south=X,W.east=f,W.west=p}if(0!==s){e-=s;var T=n.Rectangle.northwest(W,g),E=M(T,e,S,w,0,u,C);y.stGranYCos=E.granYCos,y.stGranXCos=E.granXCos,y.stGranYSin=E.granYSin,y.stGranXSin=E.granXSin,y.stNwCorner=T,y.stWest=E.west,y.stSouth=E.south}return y},t.RectangleGeometryLibrary=g}));
//# sourceMappingURL=RectangleGeometryLibrary-91712f93.js.map
