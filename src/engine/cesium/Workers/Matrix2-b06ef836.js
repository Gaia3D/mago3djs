define(["exports","./RuntimeError-ffe03243","./when-229515d6","./ComponentDatatype-dc3af6a4"],(function(e,t,n,r){"use strict";function a(e,t,r){this.x=n.defaultValue(e,0),this.y=n.defaultValue(t,0),this.z=n.defaultValue(r,0)}a.fromSpherical=function(e,r){t.Check.typeOf.object("spherical",e),n.defined(r)||(r=new a);var i=e.clock,u=e.cone,o=n.defaultValue(e.magnitude,1),c=o*Math.sin(u);return r.x=c*Math.cos(i),r.y=c*Math.sin(i),r.z=o*Math.cos(u),r},a.fromElements=function(e,t,r,i){return n.defined(i)?(i.x=e,i.y=t,i.z=r,i):new a(e,t,r)},a.clone=function(e,t){if(n.defined(e))return n.defined(t)?(t.x=e.x,t.y=e.y,t.z=e.z,t):new a(e.x,e.y,e.z)},a.fromCartesian4=a.clone,a.packedLength=3,a.pack=function(e,r,a){return t.Check.typeOf.object("value",e),t.Check.defined("array",r),a=n.defaultValue(a,0),r[a++]=e.x,r[a++]=e.y,r[a]=e.z,r},a.unpack=function(e,r,i){return t.Check.defined("array",e),r=n.defaultValue(r,0),n.defined(i)||(i=new a),i.x=e[r++],i.y=e[r++],i.z=e[r],i},a.packArray=function(e,r){t.Check.defined("array",e);var i=e.length,u=3*i;if(n.defined(r)){if(!Array.isArray(r)&&r.length!==u)throw new t.DeveloperError("If result is a typed array, it must have exactly array.length * 3 elements");r.length!==u&&(r.length=u)}else r=new Array(u);for(var o=0;o<i;++o)a.pack(e[o],r,3*o);return r},a.unpackArray=function(e,r){if(t.Check.defined("array",e),t.Check.typeOf.number.greaterThanOrEquals("array.length",e.length,3),e.length%3!=0)throw new t.DeveloperError("array length must be a multiple of 3.");var i=e.length;n.defined(r)?r.length=i/3:r=new Array(i/3);for(var u=0;u<i;u+=3){var o=u/3;r[o]=a.unpack(e,u,r[o])}return r},a.fromArray=a.unpack,a.maximumComponent=function(e){return t.Check.typeOf.object("cartesian",e),Math.max(e.x,e.y,e.z)},a.minimumComponent=function(e){return t.Check.typeOf.object("cartesian",e),Math.min(e.x,e.y,e.z)},a.minimumByComponent=function(e,n,r){return t.Check.typeOf.object("first",e),t.Check.typeOf.object("second",n),t.Check.typeOf.object("result",r),r.x=Math.min(e.x,n.x),r.y=Math.min(e.y,n.y),r.z=Math.min(e.z,n.z),r},a.maximumByComponent=function(e,n,r){return t.Check.typeOf.object("first",e),t.Check.typeOf.object("second",n),t.Check.typeOf.object("result",r),r.x=Math.max(e.x,n.x),r.y=Math.max(e.y,n.y),r.z=Math.max(e.z,n.z),r},a.magnitudeSquared=function(e){return t.Check.typeOf.object("cartesian",e),e.x*e.x+e.y*e.y+e.z*e.z},a.magnitude=function(e){return Math.sqrt(a.magnitudeSquared(e))};var i=new a;a.distance=function(e,n){return t.Check.typeOf.object("left",e),t.Check.typeOf.object("right",n),a.subtract(e,n,i),a.magnitude(i)},a.distanceSquared=function(e,n){return t.Check.typeOf.object("left",e),t.Check.typeOf.object("right",n),a.subtract(e,n,i),a.magnitudeSquared(i)},a.normalize=function(e,n){t.Check.typeOf.object("cartesian",e),t.Check.typeOf.object("result",n);var r=a.magnitude(e);if(n.x=e.x/r,n.y=e.y/r,n.z=e.z/r,isNaN(n.x)||isNaN(n.y)||isNaN(n.z))throw new t.DeveloperError("normalized result is not a number");return n},a.dot=function(e,n){return t.Check.typeOf.object("left",e),t.Check.typeOf.object("right",n),e.x*n.x+e.y*n.y+e.z*n.z},a.multiplyComponents=function(e,n,r){return t.Check.typeOf.object("left",e),t.Check.typeOf.object("right",n),t.Check.typeOf.object("result",r),r.x=e.x*n.x,r.y=e.y*n.y,r.z=e.z*n.z,r},a.divideComponents=function(e,n,r){return t.Check.typeOf.object("left",e),t.Check.typeOf.object("right",n),t.Check.typeOf.object("result",r),r.x=e.x/n.x,r.y=e.y/n.y,r.z=e.z/n.z,r},a.add=function(e,n,r){return t.Check.typeOf.object("left",e),t.Check.typeOf.object("right",n),t.Check.typeOf.object("result",r),r.x=e.x+n.x,r.y=e.y+n.y,r.z=e.z+n.z,r},a.subtract=function(e,n,r){return t.Check.typeOf.object("left",e),t.Check.typeOf.object("right",n),t.Check.typeOf.object("result",r),r.x=e.x-n.x,r.y=e.y-n.y,r.z=e.z-n.z,r},a.multiplyByScalar=function(e,n,r){return t.Check.typeOf.object("cartesian",e),t.Check.typeOf.number("scalar",n),t.Check.typeOf.object("result",r),r.x=e.x*n,r.y=e.y*n,r.z=e.z*n,r},a.divideByScalar=function(e,n,r){return t.Check.typeOf.object("cartesian",e),t.Check.typeOf.number("scalar",n),t.Check.typeOf.object("result",r),r.x=e.x/n,r.y=e.y/n,r.z=e.z/n,r},a.negate=function(e,n){return t.Check.typeOf.object("cartesian",e),t.Check.typeOf.object("result",n),n.x=-e.x,n.y=-e.y,n.z=-e.z,n},a.abs=function(e,n){return t.Check.typeOf.object("cartesian",e),t.Check.typeOf.object("result",n),n.x=Math.abs(e.x),n.y=Math.abs(e.y),n.z=Math.abs(e.z),n};var u=new a;a.lerp=function(e,n,r,i){return t.Check.typeOf.object("start",e),t.Check.typeOf.object("end",n),t.Check.typeOf.number("t",r),t.Check.typeOf.object("result",i),a.multiplyByScalar(n,r,u),i=a.multiplyByScalar(e,1-r,i),a.add(u,i,i)};var o=new a,c=new a;a.angleBetween=function(e,n){t.Check.typeOf.object("left",e),t.Check.typeOf.object("right",n),a.normalize(e,o),a.normalize(n,c);var r=a.dot(o,c),i=a.magnitude(a.cross(o,c,o));return Math.atan2(i,r)};var f=new a;a.mostOrthogonalAxis=function(e,n){t.Check.typeOf.object("cartesian",e),t.Check.typeOf.object("result",n);var r=a.normalize(e,f);return a.abs(r,r),n=r.x<=r.y?r.x<=r.z?a.clone(a.UNIT_X,n):a.clone(a.UNIT_Z,n):r.y<=r.z?a.clone(a.UNIT_Y,n):a.clone(a.UNIT_Z,n)},a.projectVector=function(e,n,r){t.Check.defined("a",e),t.Check.defined("b",n),t.Check.defined("result",r);var i=a.dot(e,n)/a.dot(n,n);return a.multiplyByScalar(n,i,r)},a.equals=function(e,t){return e===t||n.defined(e)&&n.defined(t)&&e.x===t.x&&e.y===t.y&&e.z===t.z},a.equalsArray=function(e,t,n){return e.x===t[n]&&e.y===t[n+1]&&e.z===t[n+2]},a.equalsEpsilon=function(e,t,a,i){return e===t||n.defined(e)&&n.defined(t)&&r.CesiumMath.equalsEpsilon(e.x,t.x,a,i)&&r.CesiumMath.equalsEpsilon(e.y,t.y,a,i)&&r.CesiumMath.equalsEpsilon(e.z,t.z,a,i)},a.cross=function(e,n,r){t.Check.typeOf.object("left",e),t.Check.typeOf.object("right",n),t.Check.typeOf.object("result",r);var a=e.x,i=e.y,u=e.z,o=n.x,c=n.y,f=n.z,h=i*f-u*c,s=u*o-a*f,l=a*c-i*o;return r.x=h,r.y=s,r.z=l,r},a.midpoint=function(e,n,r){return t.Check.typeOf.object("left",e),t.Check.typeOf.object("right",n),t.Check.typeOf.object("result",r),r.x=.5*(e.x+n.x),r.y=.5*(e.y+n.y),r.z=.5*(e.z+n.z),r},a.fromDegrees=function(e,n,i,u,o){return t.Check.typeOf.number("longitude",e),t.Check.typeOf.number("latitude",n),e=r.CesiumMath.toRadians(e),n=r.CesiumMath.toRadians(n),a.fromRadians(e,n,i,u,o)};var h=new a,s=new a,l=new a(40680631590769,40680631590769,40408299984661.445);a.fromRadians=function(e,r,i,u,o){t.Check.typeOf.number("longitude",e),t.Check.typeOf.number("latitude",r),i=n.defaultValue(i,0);var c=n.defined(u)?u.radiiSquared:l,f=Math.cos(r);h.x=f*Math.cos(e),h.y=f*Math.sin(e),h.z=Math.sin(r),h=a.normalize(h,h),a.multiplyComponents(c,h,s);var y=Math.sqrt(a.dot(h,s));return s=a.divideByScalar(s,y,s),h=a.multiplyByScalar(h,i,h),n.defined(o)||(o=new a),a.add(s,h,o)},a.fromDegreesArray=function(e,r,i){if(t.Check.defined("coordinates",e),e.length<2||e.length%2!=0)throw new t.DeveloperError("the number of coordinates must be a multiple of 2 and at least 2");var u=e.length;n.defined(i)?i.length=u/2:i=new Array(u/2);for(var o=0;o<u;o+=2){var c=e[o],f=e[o+1],h=o/2;i[h]=a.fromDegrees(c,f,0,r,i[h])}return i},a.fromRadiansArray=function(e,r,i){if(t.Check.defined("coordinates",e),e.length<2||e.length%2!=0)throw new t.DeveloperError("the number of coordinates must be a multiple of 2 and at least 2");var u=e.length;n.defined(i)?i.length=u/2:i=new Array(u/2);for(var o=0;o<u;o+=2){var c=e[o],f=e[o+1],h=o/2;i[h]=a.fromRadians(c,f,0,r,i[h])}return i},a.fromDegreesArrayHeights=function(e,r,i){if(t.Check.defined("coordinates",e),e.length<3||e.length%3!=0)throw new t.DeveloperError("the number of coordinates must be a multiple of 3 and at least 3");var u=e.length;n.defined(i)?i.length=u/3:i=new Array(u/3);for(var o=0;o<u;o+=3){var c=e[o],f=e[o+1],h=e[o+2],s=o/3;i[s]=a.fromDegrees(c,f,h,r,i[s])}return i},a.fromRadiansArrayHeights=function(e,r,i){if(t.Check.defined("coordinates",e),e.length<3||e.length%3!=0)throw new t.DeveloperError("the number of coordinates must be a multiple of 3 and at least 3");var u=e.length;n.defined(i)?i.length=u/3:i=new Array(u/3);for(var o=0;o<u;o+=3){var c=e[o],f=e[o+1],h=e[o+2],s=o/3;i[s]=a.fromRadians(c,f,h,r,i[s])}return i},a.ZERO=Object.freeze(new a(0,0,0)),a.ONE=Object.freeze(new a(1,1,1)),a.UNIT_X=Object.freeze(new a(1,0,0)),a.UNIT_Y=Object.freeze(new a(0,1,0)),a.UNIT_Z=Object.freeze(new a(0,0,1)),a.prototype.clone=function(e){return a.clone(this,e)},a.prototype.equals=function(e){return a.equals(this,e)},a.prototype.equalsEpsilon=function(e,t,n){return a.equalsEpsilon(this,e,t,n)},a.prototype.toString=function(){return"("+this.x+", "+this.y+", "+this.z+")"};var y=new a,d=new a;function p(e,i,u,o,c){if(!n.defined(e))throw new t.DeveloperError("cartesian is required.");if(!n.defined(i))throw new t.DeveloperError("oneOverRadii is required.");if(!n.defined(u))throw new t.DeveloperError("oneOverRadiiSquared is required.");if(!n.defined(o))throw new t.DeveloperError("centerToleranceSquared is required.");var f=e.x,h=e.y,s=e.z,l=i.x,p=i.y,m=i.z,O=f*f*l*l,C=h*h*p*p,b=s*s*m*m,k=O+C+b,x=Math.sqrt(1/k),g=a.multiplyByScalar(e,x,y);if(k<o)return isFinite(x)?a.clone(g,c):void 0;var j=u.x,w=u.y,M=u.z,v=d;v.x=g.x*j*2,v.y=g.y*w*2,v.z=g.z*M*2;var z,E,q,T,S,_,R,V=(1-x)*a.magnitude(e)/(.5*a.magnitude(v)),N=0;do{N=(z=O*(S=(E=1/(1+(V-=N)*j))*E)+C*(_=(q=1/(1+V*w))*q)+b*(R=(T=1/(1+V*M))*T)-1)/(-2*(O*(S*E)*j+C*(_*q)*w+b*(R*T)*M))}while(Math.abs(z)>r.CesiumMath.EPSILON12);return n.defined(c)?(c.x=f*E,c.y=h*q,c.z=s*T,c):new a(f*E,h*q,s*T)}function m(e,t,r){this.longitude=n.defaultValue(e,0),this.latitude=n.defaultValue(t,0),this.height=n.defaultValue(r,0)}m.fromRadians=function(e,r,a,i){return t.Check.typeOf.number("longitude",e),t.Check.typeOf.number("latitude",r),a=n.defaultValue(a,0),n.defined(i)?(i.longitude=e,i.latitude=r,i.height=a,i):new m(e,r,a)},m.fromDegrees=function(e,n,a,i){return t.Check.typeOf.number("longitude",e),t.Check.typeOf.number("latitude",n),e=r.CesiumMath.toRadians(e),n=r.CesiumMath.toRadians(n),m.fromRadians(e,n,a,i)};var O=new a,C=new a,b=new a,k=new a(1/6378137,1/6378137,1/6356752.314245179),x=new a(1/40680631590769,1/40680631590769,1/40408299984661.445),g=r.CesiumMath.EPSILON1;function j(e,i,u,o){i=n.defaultValue(i,0),u=n.defaultValue(u,0),o=n.defaultValue(o,0),t.Check.typeOf.number.greaterThanOrEquals("x",i,0),t.Check.typeOf.number.greaterThanOrEquals("y",u,0),t.Check.typeOf.number.greaterThanOrEquals("z",o,0),e._radii=new a(i,u,o),e._radiiSquared=new a(i*i,u*u,o*o),e._radiiToTheFourth=new a(i*i*i*i,u*u*u*u,o*o*o*o),e._oneOverRadii=new a(0===i?0:1/i,0===u?0:1/u,0===o?0:1/o),e._oneOverRadiiSquared=new a(0===i?0:1/(i*i),0===u?0:1/(u*u),0===o?0:1/(o*o)),e._minimumRadius=Math.min(i,u,o),e._maximumRadius=Math.max(i,u,o),e._centerToleranceSquared=r.CesiumMath.EPSILON1,0!==e._radiiSquared.z&&(e._squaredXOverSquaredZ=e._radiiSquared.x/e._radiiSquared.z)}function w(e,t,n){this._radii=void 0,this._radiiSquared=void 0,this._radiiToTheFourth=void 0,this._oneOverRadii=void 0,this._oneOverRadiiSquared=void 0,this._minimumRadius=void 0,this._maximumRadius=void 0,this._centerToleranceSquared=void 0,this._squaredXOverSquaredZ=void 0,j(this,e,t,n)}m.fromCartesian=function(e,t,i){var u=n.defined(t)?t.oneOverRadii:k,o=n.defined(t)?t.oneOverRadiiSquared:x,c=p(e,u,o,n.defined(t)?t._centerToleranceSquared:g,C);if(n.defined(c)){var f=a.multiplyComponents(c,o,O);f=a.normalize(f,f);var h=a.subtract(e,c,b),s=Math.atan2(f.y,f.x),l=Math.asin(f.z),y=r.CesiumMath.sign(a.dot(h,e))*a.magnitude(h);return n.defined(i)?(i.longitude=s,i.latitude=l,i.height=y,i):new m(s,l,y)}},m.toCartesian=function(e,n,r){return t.Check.defined("cartographic",e),a.fromRadians(e.longitude,e.latitude,e.height,n,r)},m.clone=function(e,t){if(n.defined(e))return n.defined(t)?(t.longitude=e.longitude,t.latitude=e.latitude,t.height=e.height,t):new m(e.longitude,e.latitude,e.height)},m.equals=function(e,t){return e===t||n.defined(e)&&n.defined(t)&&e.longitude===t.longitude&&e.latitude===t.latitude&&e.height===t.height},m.equalsEpsilon=function(e,t,r){return r=n.defaultValue(r,0),e===t||n.defined(e)&&n.defined(t)&&Math.abs(e.longitude-t.longitude)<=r&&Math.abs(e.latitude-t.latitude)<=r&&Math.abs(e.height-t.height)<=r},m.ZERO=Object.freeze(new m(0,0,0)),m.prototype.clone=function(e){return m.clone(this,e)},m.prototype.equals=function(e){return m.equals(this,e)},m.prototype.equalsEpsilon=function(e,t){return m.equalsEpsilon(this,e,t)},m.prototype.toString=function(){return"("+this.longitude+", "+this.latitude+", "+this.height+")"},Object.defineProperties(w.prototype,{radii:{get:function(){return this._radii}},radiiSquared:{get:function(){return this._radiiSquared}},radiiToTheFourth:{get:function(){return this._radiiToTheFourth}},oneOverRadii:{get:function(){return this._oneOverRadii}},oneOverRadiiSquared:{get:function(){return this._oneOverRadiiSquared}},minimumRadius:{get:function(){return this._minimumRadius}},maximumRadius:{get:function(){return this._maximumRadius}}}),w.clone=function(e,t){if(n.defined(e)){var r=e._radii;return n.defined(t)?(a.clone(r,t._radii),a.clone(e._radiiSquared,t._radiiSquared),a.clone(e._radiiToTheFourth,t._radiiToTheFourth),a.clone(e._oneOverRadii,t._oneOverRadii),a.clone(e._oneOverRadiiSquared,t._oneOverRadiiSquared),t._minimumRadius=e._minimumRadius,t._maximumRadius=e._maximumRadius,t._centerToleranceSquared=e._centerToleranceSquared,t):new w(r.x,r.y,r.z)}},w.fromCartesian3=function(e,t){return n.defined(t)||(t=new w),n.defined(e)?(j(t,e.x,e.y,e.z),t):t},w.WGS84=Object.freeze(new w(6378137,6378137,6356752.314245179)),w.UNIT_SPHERE=Object.freeze(new w(1,1,1)),w.MOON=Object.freeze(new w(r.CesiumMath.LUNAR_RADIUS,r.CesiumMath.LUNAR_RADIUS,r.CesiumMath.LUNAR_RADIUS)),w.prototype.clone=function(e){return w.clone(this,e)},w.packedLength=a.packedLength,w.pack=function(e,r,i){return t.Check.typeOf.object("value",e),t.Check.defined("array",r),i=n.defaultValue(i,0),a.pack(e._radii,r,i),r},w.unpack=function(e,r,i){t.Check.defined("array",e),r=n.defaultValue(r,0);var u=a.unpack(e,r);return w.fromCartesian3(u,i)},w.prototype.geocentricSurfaceNormal=a.normalize,w.prototype.geodeticSurfaceNormalCartographic=function(e,r){t.Check.typeOf.object("cartographic",e);var i=e.longitude,u=e.latitude,o=Math.cos(u),c=o*Math.cos(i),f=o*Math.sin(i),h=Math.sin(u);return n.defined(r)||(r=new a),r.x=c,r.y=f,r.z=h,a.normalize(r,r)},w.prototype.geodeticSurfaceNormal=function(e,t){if(!a.equalsEpsilon(e,a.ZERO,r.CesiumMath.EPSILON14))return n.defined(t)||(t=new a),t=a.multiplyComponents(e,this._oneOverRadiiSquared,t),a.normalize(t,t)};var M=new a,v=new a;w.prototype.cartographicToCartesian=function(e,t){var r=M,i=v;this.geodeticSurfaceNormalCartographic(e,r),a.multiplyComponents(this._radiiSquared,r,i);var u=Math.sqrt(a.dot(r,i));return a.divideByScalar(i,u,i),a.multiplyByScalar(r,e.height,r),n.defined(t)||(t=new a),a.add(i,r,t)},w.prototype.cartographicArrayToCartesianArray=function(e,r){t.Check.defined("cartographics",e);var a=e.length;n.defined(r)?r.length=a:r=new Array(a);for(var i=0;i<a;i++)r[i]=this.cartographicToCartesian(e[i],r[i]);return r};var z=new a,E=new a,q=new a;w.prototype.cartesianToCartographic=function(e,t){var i=this.scaleToGeodeticSurface(e,E);if(n.defined(i)){var u=this.geodeticSurfaceNormal(i,z),o=a.subtract(e,i,q),c=Math.atan2(u.y,u.x),f=Math.asin(u.z),h=r.CesiumMath.sign(a.dot(o,e))*a.magnitude(o);return n.defined(t)?(t.longitude=c,t.latitude=f,t.height=h,t):new m(c,f,h)}},w.prototype.cartesianArrayToCartographicArray=function(e,r){t.Check.defined("cartesians",e);var a=e.length;n.defined(r)?r.length=a:r=new Array(a);for(var i=0;i<a;++i)r[i]=this.cartesianToCartographic(e[i],r[i]);return r},w.prototype.scaleToGeodeticSurface=function(e,t){return p(e,this._oneOverRadii,this._oneOverRadiiSquared,this._centerToleranceSquared,t)},w.prototype.scaleToGeocentricSurface=function(e,r){t.Check.typeOf.object("cartesian",e),n.defined(r)||(r=new a);var i=e.x,u=e.y,o=e.z,c=this._oneOverRadiiSquared,f=1/Math.sqrt(i*i*c.x+u*u*c.y+o*o*c.z);return a.multiplyByScalar(e,f,r)},w.prototype.transformPositionToScaledSpace=function(e,t){return n.defined(t)||(t=new a),a.multiplyComponents(e,this._oneOverRadii,t)},w.prototype.transformPositionFromScaledSpace=function(e,t){return n.defined(t)||(t=new a),a.multiplyComponents(e,this._radii,t)},w.prototype.equals=function(e){return this===e||n.defined(e)&&a.equals(this._radii,e._radii)},w.prototype.toString=function(){return this._radii.toString()},w.prototype.getSurfaceNormalIntersectionWithZAxis=function(e,i,u){if(t.Check.typeOf.object("position",e),!r.CesiumMath.equalsEpsilon(this._radii.x,this._radii.y,r.CesiumMath.EPSILON15))throw new t.DeveloperError("Ellipsoid must be an ellipsoid of revolution (radii.x == radii.y)");t.Check.typeOf.number.greaterThan("Ellipsoid.radii.z",this._radii.z,0),i=n.defaultValue(i,0);var o=this._squaredXOverSquaredZ;if(n.defined(u)||(u=new a),u.x=0,u.y=0,u.z=e.z*(1-o),!(Math.abs(u.z)>=this._radii.z-i))return u};var T=[.14887433898163,.43339539412925,.67940956829902,.86506336668898,.97390652851717,0],S=[.29552422471475,.26926671930999,.21908636251598,.14945134915058,.066671344308684,0];function _(e,n,r){t.Check.typeOf.number("a",e),t.Check.typeOf.number("b",n),t.Check.typeOf.func("func",r);for(var a=.5*(n+e),i=.5*(n-e),u=0,o=0;o<5;o++){var c=i*T[o];u+=S[o]*(r(a+c)+r(a-c))}return u*=i}function R(e,t,r,a,i,u,o,c,f){this[0]=n.defaultValue(e,0),this[1]=n.defaultValue(a,0),this[2]=n.defaultValue(o,0),this[3]=n.defaultValue(t,0),this[4]=n.defaultValue(i,0),this[5]=n.defaultValue(c,0),this[6]=n.defaultValue(r,0),this[7]=n.defaultValue(u,0),this[8]=n.defaultValue(f,0)}w.prototype.surfaceArea=function(e){t.Check.typeOf.object("rectangle",e);for(var n=e.west,a=e.east,i=e.south,u=e.north;a<n;)a+=r.CesiumMath.TWO_PI;var o=this._radiiSquared,c=o.x,f=o.y,h=o.z,s=c*f;return _(i,u,(function(e){var t=Math.cos(e),r=Math.sin(e);return Math.cos(e)*_(n,a,(function(e){var n=Math.cos(e),a=Math.sin(e);return Math.sqrt(s*r*r+h*(f*n*n+c*a*a)*t*t)}))}))},R.packedLength=9,R.pack=function(e,r,a){return t.Check.typeOf.object("value",e),t.Check.defined("array",r),a=n.defaultValue(a,0),r[a++]=e[0],r[a++]=e[1],r[a++]=e[2],r[a++]=e[3],r[a++]=e[4],r[a++]=e[5],r[a++]=e[6],r[a++]=e[7],r[a++]=e[8],r},R.unpack=function(e,r,a){return t.Check.defined("array",e),r=n.defaultValue(r,0),n.defined(a)||(a=new R),a[0]=e[r++],a[1]=e[r++],a[2]=e[r++],a[3]=e[r++],a[4]=e[r++],a[5]=e[r++],a[6]=e[r++],a[7]=e[r++],a[8]=e[r++],a},R.clone=function(e,t){if(n.defined(e))return n.defined(t)?(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t):new R(e[0],e[3],e[6],e[1],e[4],e[7],e[2],e[5],e[8])},R.fromArray=function(e,r,a){return t.Check.defined("array",e),r=n.defaultValue(r,0),n.defined(a)||(a=new R),a[0]=e[r],a[1]=e[r+1],a[2]=e[r+2],a[3]=e[r+3],a[4]=e[r+4],a[5]=e[r+5],a[6]=e[r+6],a[7]=e[r+7],a[8]=e[r+8],a},R.fromColumnMajorArray=function(e,n){return t.Check.defined("values",e),R.clone(e,n)},R.fromRowMajorArray=function(e,r){return t.Check.defined("values",e),n.defined(r)?(r[0]=e[0],r[1]=e[3],r[2]=e[6],r[3]=e[1],r[4]=e[4],r[5]=e[7],r[6]=e[2],r[7]=e[5],r[8]=e[8],r):new R(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8])},R.fromQuaternion=function(e,r){t.Check.typeOf.object("quaternion",e);var a=e.x*e.x,i=e.x*e.y,u=e.x*e.z,o=e.x*e.w,c=e.y*e.y,f=e.y*e.z,h=e.y*e.w,s=e.z*e.z,l=e.z*e.w,y=e.w*e.w,d=a-c-s+y,p=2*(i-l),m=2*(u+h),O=2*(i+l),C=-a+c-s+y,b=2*(f-o),k=2*(u-h),x=2*(f+o),g=-a-c+s+y;return n.defined(r)?(r[0]=d,r[1]=O,r[2]=k,r[3]=p,r[4]=C,r[5]=x,r[6]=m,r[7]=b,r[8]=g,r):new R(d,p,m,O,C,b,k,x,g)},R.fromHeadingPitchRoll=function(e,r){t.Check.typeOf.object("headingPitchRoll",e);var a=Math.cos(-e.pitch),i=Math.cos(-e.heading),u=Math.cos(e.roll),o=Math.sin(-e.pitch),c=Math.sin(-e.heading),f=Math.sin(e.roll),h=a*i,s=-u*c+f*o*i,l=f*c+u*o*i,y=a*c,d=u*i+f*o*c,p=-f*i+u*o*c,m=-o,O=f*a,C=u*a;return n.defined(r)?(r[0]=h,r[1]=y,r[2]=m,r[3]=s,r[4]=d,r[5]=O,r[6]=l,r[7]=p,r[8]=C,r):new R(h,s,l,y,d,p,m,O,C)},R.fromScale=function(e,r){return t.Check.typeOf.object("scale",e),n.defined(r)?(r[0]=e.x,r[1]=0,r[2]=0,r[3]=0,r[4]=e.y,r[5]=0,r[6]=0,r[7]=0,r[8]=e.z,r):new R(e.x,0,0,0,e.y,0,0,0,e.z)},R.fromUniformScale=function(e,r){return t.Check.typeOf.number("scale",e),n.defined(r)?(r[0]=e,r[1]=0,r[2]=0,r[3]=0,r[4]=e,r[5]=0,r[6]=0,r[7]=0,r[8]=e,r):new R(e,0,0,0,e,0,0,0,e)},R.fromCrossProduct=function(e,r){return t.Check.typeOf.object("vector",e),n.defined(r)?(r[0]=0,r[1]=e.z,r[2]=-e.y,r[3]=-e.z,r[4]=0,r[5]=e.x,r[6]=e.y,r[7]=-e.x,r[8]=0,r):new R(0,-e.z,e.y,e.z,0,-e.x,-e.y,e.x,0)},R.fromRotationX=function(e,r){t.Check.typeOf.number("angle",e);var a=Math.cos(e),i=Math.sin(e);return n.defined(r)?(r[0]=1,r[1]=0,r[2]=0,r[3]=0,r[4]=a,r[5]=i,r[6]=0,r[7]=-i,r[8]=a,r):new R(1,0,0,0,a,-i,0,i,a)},R.fromRotationY=function(e,r){t.Check.typeOf.number("angle",e);var a=Math.cos(e),i=Math.sin(e);return n.defined(r)?(r[0]=a,r[1]=0,r[2]=-i,r[3]=0,r[4]=1,r[5]=0,r[6]=i,r[7]=0,r[8]=a,r):new R(a,0,i,0,1,0,-i,0,a)},R.fromRotationZ=function(e,r){t.Check.typeOf.number("angle",e);var a=Math.cos(e),i=Math.sin(e);return n.defined(r)?(r[0]=a,r[1]=i,r[2]=0,r[3]=-i,r[4]=a,r[5]=0,r[6]=0,r[7]=0,r[8]=1,r):new R(a,-i,0,i,a,0,0,0,1)},R.toArray=function(e,r){return t.Check.typeOf.object("matrix",e),n.defined(r)?(r[0]=e[0],r[1]=e[1],r[2]=e[2],r[3]=e[3],r[4]=e[4],r[5]=e[5],r[6]=e[6],r[7]=e[7],r[8]=e[8],r):[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8]]},R.getElementIndex=function(e,n){return t.Check.typeOf.number.greaterThanOrEquals("row",n,0),t.Check.typeOf.number.lessThanOrEquals("row",n,2),t.Check.typeOf.number.greaterThanOrEquals("column",e,0),t.Check.typeOf.number.lessThanOrEquals("column",e,2),3*e+n},R.getColumn=function(e,n,r){t.Check.typeOf.object("matrix",e),t.Check.typeOf.number.greaterThanOrEquals("index",n,0),t.Check.typeOf.number.lessThanOrEquals("index",n,2),t.Check.typeOf.object("result",r);var a=3*n,i=e[a],u=e[a+1],o=e[a+2];return r.x=i,r.y=u,r.z=o,r},R.setColumn=function(e,n,r,a){t.Check.typeOf.object("matrix",e),t.Check.typeOf.number.greaterThanOrEquals("index",n,0),t.Check.typeOf.number.lessThanOrEquals("index",n,2),t.Check.typeOf.object("cartesian",r),t.Check.typeOf.object("result",a);var i=3*n;return(a=R.clone(e,a))[i]=r.x,a[i+1]=r.y,a[i+2]=r.z,a},R.getRow=function(e,n,r){t.Check.typeOf.object("matrix",e),t.Check.typeOf.number.greaterThanOrEquals("index",n,0),t.Check.typeOf.number.lessThanOrEquals("index",n,2),t.Check.typeOf.object("result",r);var a=e[n],i=e[n+3],u=e[n+6];return r.x=a,r.y=i,r.z=u,r},R.setRow=function(e,n,r,a){return t.Check.typeOf.object("matrix",e),t.Check.typeOf.number.greaterThanOrEquals("index",n,0),t.Check.typeOf.number.lessThanOrEquals("index",n,2),t.Check.typeOf.object("cartesian",r),t.Check.typeOf.object("result",a),(a=R.clone(e,a))[n]=r.x,a[n+3]=r.y,a[n+6]=r.z,a};var V=new a;R.getScale=function(e,n){return t.Check.typeOf.object("matrix",e),t.Check.typeOf.object("result",n),n.x=a.magnitude(a.fromElements(e[0],e[1],e[2],V)),n.y=a.magnitude(a.fromElements(e[3],e[4],e[5],V)),n.z=a.magnitude(a.fromElements(e[6],e[7],e[8],V)),n};var N=new a;R.getMaximumScale=function(e){return R.getScale(e,N),a.maximumComponent(N)},R.multiply=function(e,n,r){t.Check.typeOf.object("left",e),t.Check.typeOf.object("right",n),t.Check.typeOf.object("result",r);var a=e[0]*n[0]+e[3]*n[1]+e[6]*n[2],i=e[1]*n[0]+e[4]*n[1]+e[7]*n[2],u=e[2]*n[0]+e[5]*n[1]+e[8]*n[2],o=e[0]*n[3]+e[3]*n[4]+e[6]*n[5],c=e[1]*n[3]+e[4]*n[4]+e[7]*n[5],f=e[2]*n[3]+e[5]*n[4]+e[8]*n[5],h=e[0]*n[6]+e[3]*n[7]+e[6]*n[8],s=e[1]*n[6]+e[4]*n[7]+e[7]*n[8],l=e[2]*n[6]+e[5]*n[7]+e[8]*n[8];return r[0]=a,r[1]=i,r[2]=u,r[3]=o,r[4]=c,r[5]=f,r[6]=h,r[7]=s,r[8]=l,r},R.add=function(e,n,r){return t.Check.typeOf.object("left",e),t.Check.typeOf.object("right",n),t.Check.typeOf.object("result",r),r[0]=e[0]+n[0],r[1]=e[1]+n[1],r[2]=e[2]+n[2],r[3]=e[3]+n[3],r[4]=e[4]+n[4],r[5]=e[5]+n[5],r[6]=e[6]+n[6],r[7]=e[7]+n[7],r[8]=e[8]+n[8],r},R.subtract=function(e,n,r){return t.Check.typeOf.object("left",e),t.Check.typeOf.object("right",n),t.Check.typeOf.object("result",r),r[0]=e[0]-n[0],r[1]=e[1]-n[1],r[2]=e[2]-n[2],r[3]=e[3]-n[3],r[4]=e[4]-n[4],r[5]=e[5]-n[5],r[6]=e[6]-n[6],r[7]=e[7]-n[7],r[8]=e[8]-n[8],r},R.multiplyByVector=function(e,n,r){t.Check.typeOf.object("matrix",e),t.Check.typeOf.object("cartesian",n),t.Check.typeOf.object("result",r);var a=n.x,i=n.y,u=n.z,o=e[0]*a+e[3]*i+e[6]*u,c=e[1]*a+e[4]*i+e[7]*u,f=e[2]*a+e[5]*i+e[8]*u;return r.x=o,r.y=c,r.z=f,r},R.multiplyByScalar=function(e,n,r){return t.Check.typeOf.object("matrix",e),t.Check.typeOf.number("scalar",n),t.Check.typeOf.object("result",r),r[0]=e[0]*n,r[1]=e[1]*n,r[2]=e[2]*n,r[3]=e[3]*n,r[4]=e[4]*n,r[5]=e[5]*n,r[6]=e[6]*n,r[7]=e[7]*n,r[8]=e[8]*n,r},R.multiplyByScale=function(e,n,r){return t.Check.typeOf.object("matrix",e),t.Check.typeOf.object("scale",n),t.Check.typeOf.object("result",r),r[0]=e[0]*n.x,r[1]=e[1]*n.x,r[2]=e[2]*n.x,r[3]=e[3]*n.y,r[4]=e[4]*n.y,r[5]=e[5]*n.y,r[6]=e[6]*n.z,r[7]=e[7]*n.z,r[8]=e[8]*n.z,r},R.negate=function(e,n){return t.Check.typeOf.object("matrix",e),t.Check.typeOf.object("result",n),n[0]=-e[0],n[1]=-e[1],n[2]=-e[2],n[3]=-e[3],n[4]=-e[4],n[5]=-e[5],n[6]=-e[6],n[7]=-e[7],n[8]=-e[8],n},R.transpose=function(e,n){t.Check.typeOf.object("matrix",e),t.Check.typeOf.object("result",n);var r=e[0],a=e[3],i=e[6],u=e[1],o=e[4],c=e[7],f=e[2],h=e[5],s=e[8];return n[0]=r,n[1]=a,n[2]=i,n[3]=u,n[4]=o,n[5]=c,n[6]=f,n[7]=h,n[8]=s,n};var I=new a(1,1,1);R.getRotation=function(e,n){t.Check.typeOf.object("matrix",e),t.Check.typeOf.object("result",n);var r=a.divideComponents(I,R.getScale(e,N),N);return n=R.multiplyByScale(e,r,n)};var A=[1,0,0],U=[2,2,1];function P(e){for(var t=0,n=0;n<3;++n){var r=e[R.getElementIndex(U[n],A[n])];t+=2*r*r}return Math.sqrt(t)}function L(e,t){for(var n=r.CesiumMath.EPSILON15,a=0,i=1,u=0;u<3;++u){var o=Math.abs(e[R.getElementIndex(U[u],A[u])]);o>a&&(i=u,a=o)}var c=1,f=0,h=A[i],s=U[i];if(Math.abs(e[R.getElementIndex(s,h)])>n){var l,y=(e[R.getElementIndex(s,s)]-e[R.getElementIndex(h,h)])/2/e[R.getElementIndex(s,h)];f=(l=y<0?-1/(-y+Math.sqrt(1+y*y)):1/(y+Math.sqrt(1+y*y)))*(c=1/Math.sqrt(1+l*l))}return(t=R.clone(R.IDENTITY,t))[R.getElementIndex(h,h)]=t[R.getElementIndex(s,s)]=c,t[R.getElementIndex(s,h)]=f,t[R.getElementIndex(h,s)]=-f,t}var W=new R,B=new R;R.computeEigenDecomposition=function(e,a){t.Check.typeOf.object("matrix",e);var i=r.CesiumMath.EPSILON20,u=0,o=0;n.defined(a)||(a={});for(var c=a.unitary=R.clone(R.IDENTITY,a.unitary),f=a.diagonal=R.clone(e,a.diagonal),h=i*function(e){for(var t=0,n=0;n<9;++n){var r=e[n];t+=r*r}return Math.sqrt(t)}(f);o<10&&P(f)>h;)L(f,W),R.transpose(W,B),R.multiply(f,W,f),R.multiply(B,f,f),R.multiply(c,W,c),++u>2&&(++o,u=0);return a},R.abs=function(e,n){return t.Check.typeOf.object("matrix",e),t.Check.typeOf.object("result",n),n[0]=Math.abs(e[0]),n[1]=Math.abs(e[1]),n[2]=Math.abs(e[2]),n[3]=Math.abs(e[3]),n[4]=Math.abs(e[4]),n[5]=Math.abs(e[5]),n[6]=Math.abs(e[6]),n[7]=Math.abs(e[7]),n[8]=Math.abs(e[8]),n},R.determinant=function(e){t.Check.typeOf.object("matrix",e);var n=e[0],r=e[3],a=e[6],i=e[1],u=e[4],o=e[7],c=e[2],f=e[5],h=e[8];return n*(u*h-f*o)+i*(f*a-r*h)+c*(r*o-u*a)},R.inverse=function(e,n){t.Check.typeOf.object("matrix",e),t.Check.typeOf.object("result",n);var a=e[0],i=e[1],u=e[2],o=e[3],c=e[4],f=e[5],h=e[6],s=e[7],l=e[8],y=R.determinant(e);if(Math.abs(y)<=r.CesiumMath.EPSILON15)throw new t.DeveloperError("matrix is not invertible");n[0]=c*l-s*f,n[1]=s*u-i*l,n[2]=i*f-c*u,n[3]=h*f-o*l,n[4]=a*l-h*u,n[5]=o*u-a*f,n[6]=o*s-h*c,n[7]=h*i-a*s,n[8]=a*c-o*i;var d=1/y;return R.multiplyByScalar(n,d,n)};var D=new R;function X(e,t,r,a){this.x=n.defaultValue(e,0),this.y=n.defaultValue(t,0),this.z=n.defaultValue(r,0),this.w=n.defaultValue(a,0)}R.inverseTranspose=function(e,n){return t.Check.typeOf.object("matrix",e),t.Check.typeOf.object("result",n),R.inverse(R.transpose(e,D),n)},R.equals=function(e,t){return e===t||n.defined(e)&&n.defined(t)&&e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]&&e[8]===t[8]},R.equalsEpsilon=function(e,t,r){return r=n.defaultValue(r,0),e===t||n.defined(e)&&n.defined(t)&&Math.abs(e[0]-t[0])<=r&&Math.abs(e[1]-t[1])<=r&&Math.abs(e[2]-t[2])<=r&&Math.abs(e[3]-t[3])<=r&&Math.abs(e[4]-t[4])<=r&&Math.abs(e[5]-t[5])<=r&&Math.abs(e[6]-t[6])<=r&&Math.abs(e[7]-t[7])<=r&&Math.abs(e[8]-t[8])<=r},R.IDENTITY=Object.freeze(new R(1,0,0,0,1,0,0,0,1)),R.ZERO=Object.freeze(new R(0,0,0,0,0,0,0,0,0)),R.COLUMN0ROW0=0,R.COLUMN0ROW1=1,R.COLUMN0ROW2=2,R.COLUMN1ROW0=3,R.COLUMN1ROW1=4,R.COLUMN1ROW2=5,R.COLUMN2ROW0=6,R.COLUMN2ROW1=7,R.COLUMN2ROW2=8,Object.defineProperties(R.prototype,{length:{get:function(){return R.packedLength}}}),R.prototype.clone=function(e){return R.clone(this,e)},R.prototype.equals=function(e){return R.equals(this,e)},R.equalsArray=function(e,t,n){return e[0]===t[n]&&e[1]===t[n+1]&&e[2]===t[n+2]&&e[3]===t[n+3]&&e[4]===t[n+4]&&e[5]===t[n+5]&&e[6]===t[n+6]&&e[7]===t[n+7]&&e[8]===t[n+8]},R.prototype.equalsEpsilon=function(e,t){return R.equalsEpsilon(this,e,t)},R.prototype.toString=function(){return"("+this[0]+", "+this[3]+", "+this[6]+")\n("+this[1]+", "+this[4]+", "+this[7]+")\n("+this[2]+", "+this[5]+", "+this[8]+")"},X.fromElements=function(e,t,r,a,i){return n.defined(i)?(i.x=e,i.y=t,i.z=r,i.w=a,i):new X(e,t,r,a)},X.fromColor=function(e,r){return t.Check.typeOf.object("color",e),n.defined(r)?(r.x=e.red,r.y=e.green,r.z=e.blue,r.w=e.alpha,r):new X(e.red,e.green,e.blue,e.alpha)},X.clone=function(e,t){if(n.defined(e))return n.defined(t)?(t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t):new X(e.x,e.y,e.z,e.w)},X.packedLength=4,X.pack=function(e,r,a){return t.Check.typeOf.object("value",e),t.Check.defined("array",r),a=n.defaultValue(a,0),r[a++]=e.x,r[a++]=e.y,r[a++]=e.z,r[a]=e.w,r},X.unpack=function(e,r,a){return t.Check.defined("array",e),r=n.defaultValue(r,0),n.defined(a)||(a=new X),a.x=e[r++],a.y=e[r++],a.z=e[r++],a.w=e[r],a},X.packArray=function(e,r){t.Check.defined("array",e);var a=e.length,i=4*a;if(n.defined(r)){if(!Array.isArray(r)&&r.length!==i)throw new t.DeveloperError("If result is a typed array, it must have exactly array.length * 4 elements");r.length!==i&&(r.length=i)}else r=new Array(i);for(var u=0;u<a;++u)X.pack(e[u],r,4*u);return r},X.unpackArray=function(e,r){if(t.Check.defined("array",e),t.Check.typeOf.number.greaterThanOrEquals("array.length",e.length,4),e.length%4!=0)throw new t.DeveloperError("array length must be a multiple of 4.");var a=e.length;n.defined(r)?r.length=a/4:r=new Array(a/4);for(var i=0;i<a;i+=4){var u=i/4;r[u]=X.unpack(e,i,r[u])}return r},X.fromArray=X.unpack,X.maximumComponent=function(e){return t.Check.typeOf.object("cartesian",e),Math.max(e.x,e.y,e.z,e.w)},X.minimumComponent=function(e){return t.Check.typeOf.object("cartesian",e),Math.min(e.x,e.y,e.z,e.w)},X.minimumByComponent=function(e,n,r){return t.Check.typeOf.object("first",e),t.Check.typeOf.object("second",n),t.Check.typeOf.object("result",r),r.x=Math.min(e.x,n.x),r.y=Math.min(e.y,n.y),r.z=Math.min(e.z,n.z),r.w=Math.min(e.w,n.w),r},X.maximumByComponent=function(e,n,r){return t.Check.typeOf.object("first",e),t.Check.typeOf.object("second",n),t.Check.typeOf.object("result",r),r.x=Math.max(e.x,n.x),r.y=Math.max(e.y,n.y),r.z=Math.max(e.z,n.z),r.w=Math.max(e.w,n.w),r},X.magnitudeSquared=function(e){return t.Check.typeOf.object("cartesian",e),e.x*e.x+e.y*e.y+e.z*e.z+e.w*e.w},X.magnitude=function(e){return Math.sqrt(X.magnitudeSquared(e))};var Z=new X;X.distance=function(e,n){return t.Check.typeOf.object("left",e),t.Check.typeOf.object("right",n),X.subtract(e,n,Z),X.magnitude(Z)},X.distanceSquared=function(e,n){return t.Check.typeOf.object("left",e),t.Check.typeOf.object("right",n),X.subtract(e,n,Z),X.magnitudeSquared(Z)},X.normalize=function(e,n){t.Check.typeOf.object("cartesian",e),t.Check.typeOf.object("result",n);var r=X.magnitude(e);if(n.x=e.x/r,n.y=e.y/r,n.z=e.z/r,n.w=e.w/r,isNaN(n.x)||isNaN(n.y)||isNaN(n.z)||isNaN(n.w))throw new t.DeveloperError("normalized result is not a number");return n},X.dot=function(e,n){return t.Check.typeOf.object("left",e),t.Check.typeOf.object("right",n),e.x*n.x+e.y*n.y+e.z*n.z+e.w*n.w},X.multiplyComponents=function(e,n,r){return t.Check.typeOf.object("left",e),t.Check.typeOf.object("right",n),t.Check.typeOf.object("result",r),r.x=e.x*n.x,r.y=e.y*n.y,r.z=e.z*n.z,r.w=e.w*n.w,r},X.divideComponents=function(e,n,r){return t.Check.typeOf.object("left",e),t.Check.typeOf.object("right",n),t.Check.typeOf.object("result",r),r.x=e.x/n.x,r.y=e.y/n.y,r.z=e.z/n.z,r.w=e.w/n.w,r},X.add=function(e,n,r){return t.Check.typeOf.object("left",e),t.Check.typeOf.object("right",n),t.Check.typeOf.object("result",r),r.x=e.x+n.x,r.y=e.y+n.y,r.z=e.z+n.z,r.w=e.w+n.w,r},X.subtract=function(e,n,r){return t.Check.typeOf.object("left",e),t.Check.typeOf.object("right",n),t.Check.typeOf.object("result",r),r.x=e.x-n.x,r.y=e.y-n.y,r.z=e.z-n.z,r.w=e.w-n.w,r},X.multiplyByScalar=function(e,n,r){return t.Check.typeOf.object("cartesian",e),t.Check.typeOf.number("scalar",n),t.Check.typeOf.object("result",r),r.x=e.x*n,r.y=e.y*n,r.z=e.z*n,r.w=e.w*n,r},X.divideByScalar=function(e,n,r){return t.Check.typeOf.object("cartesian",e),t.Check.typeOf.number("scalar",n),t.Check.typeOf.object("result",r),r.x=e.x/n,r.y=e.y/n,r.z=e.z/n,r.w=e.w/n,r},X.negate=function(e,n){return t.Check.typeOf.object("cartesian",e),t.Check.typeOf.object("result",n),n.x=-e.x,n.y=-e.y,n.z=-e.z,n.w=-e.w,n},X.abs=function(e,n){return t.Check.typeOf.object("cartesian",e),t.Check.typeOf.object("result",n),n.x=Math.abs(e.x),n.y=Math.abs(e.y),n.z=Math.abs(e.z),n.w=Math.abs(e.w),n};var Y=new X;X.lerp=function(e,n,r,a){return t.Check.typeOf.object("start",e),t.Check.typeOf.object("end",n),t.Check.typeOf.number("t",r),t.Check.typeOf.object("result",a),X.multiplyByScalar(n,r,Y),a=X.multiplyByScalar(e,1-r,a),X.add(Y,a,a)};var F=new X;X.mostOrthogonalAxis=function(e,n){t.Check.typeOf.object("cartesian",e),t.Check.typeOf.object("result",n);var r=X.normalize(e,F);return X.abs(r,r),n=r.x<=r.y?r.x<=r.z?r.x<=r.w?X.clone(X.UNIT_X,n):X.clone(X.UNIT_W,n):r.z<=r.w?X.clone(X.UNIT_Z,n):X.clone(X.UNIT_W,n):r.y<=r.z?r.y<=r.w?X.clone(X.UNIT_Y,n):X.clone(X.UNIT_W,n):r.z<=r.w?X.clone(X.UNIT_Z,n):X.clone(X.UNIT_W,n)},X.equals=function(e,t){return e===t||n.defined(e)&&n.defined(t)&&e.x===t.x&&e.y===t.y&&e.z===t.z&&e.w===t.w},X.equalsArray=function(e,t,n){return e.x===t[n]&&e.y===t[n+1]&&e.z===t[n+2]&&e.w===t[n+3]},X.equalsEpsilon=function(e,t,a,i){return e===t||n.defined(e)&&n.defined(t)&&r.CesiumMath.equalsEpsilon(e.x,t.x,a,i)&&r.CesiumMath.equalsEpsilon(e.y,t.y,a,i)&&r.CesiumMath.equalsEpsilon(e.z,t.z,a,i)&&r.CesiumMath.equalsEpsilon(e.w,t.w,a,i)},X.ZERO=Object.freeze(new X(0,0,0,0)),X.ONE=Object.freeze(new X(1,1,1,1)),X.UNIT_X=Object.freeze(new X(1,0,0,0)),X.UNIT_Y=Object.freeze(new X(0,1,0,0)),X.UNIT_Z=Object.freeze(new X(0,0,1,0)),X.UNIT_W=Object.freeze(new X(0,0,0,1)),X.prototype.clone=function(e){return X.clone(this,e)},X.prototype.equals=function(e){return X.equals(this,e)},X.prototype.equalsEpsilon=function(e,t,n){return X.equalsEpsilon(this,e,t,n)},X.prototype.toString=function(){return"("+this.x+", "+this.y+", "+this.z+", "+this.w+")"};var G=new Float32Array(1),H=new Uint8Array(G.buffer),Q=new Uint32Array([287454020]),J=68===new Uint8Array(Q.buffer)[0];function K(e,t,r,a,i,u,o,c,f,h,s,l,y,d,p,m){this[0]=n.defaultValue(e,0),this[1]=n.defaultValue(i,0),this[2]=n.defaultValue(f,0),this[3]=n.defaultValue(y,0),this[4]=n.defaultValue(t,0),this[5]=n.defaultValue(u,0),this[6]=n.defaultValue(h,0),this[7]=n.defaultValue(d,0),this[8]=n.defaultValue(r,0),this[9]=n.defaultValue(o,0),this[10]=n.defaultValue(s,0),this[11]=n.defaultValue(p,0),this[12]=n.defaultValue(a,0),this[13]=n.defaultValue(c,0),this[14]=n.defaultValue(l,0),this[15]=n.defaultValue(m,0)}X.packFloat=function(e,r){return t.Check.typeOf.number("value",e),n.defined(r)||(r=new X),G[0]=e,J?(r.x=H[0],r.y=H[1],r.z=H[2],r.w=H[3]):(r.x=H[3],r.y=H[2],r.z=H[1],r.w=H[0]),r},X.unpackFloat=function(e){return t.Check.typeOf.object("packedFloat",e),J?(H[0]=e.x,H[1]=e.y,H[2]=e.z,H[3]=e.w):(H[0]=e.w,H[1]=e.z,H[2]=e.y,H[3]=e.x),G[0]},K.packedLength=16,K.pack=function(e,r,a){return t.Check.typeOf.object("value",e),t.Check.defined("array",r),a=n.defaultValue(a,0),r[a++]=e[0],r[a++]=e[1],r[a++]=e[2],r[a++]=e[3],r[a++]=e[4],r[a++]=e[5],r[a++]=e[6],r[a++]=e[7],r[a++]=e[8],r[a++]=e[9],r[a++]=e[10],r[a++]=e[11],r[a++]=e[12],r[a++]=e[13],r[a++]=e[14],r[a]=e[15],r},K.unpack=function(e,r,a){return t.Check.defined("array",e),r=n.defaultValue(r,0),n.defined(a)||(a=new K),a[0]=e[r++],a[1]=e[r++],a[2]=e[r++],a[3]=e[r++],a[4]=e[r++],a[5]=e[r++],a[6]=e[r++],a[7]=e[r++],a[8]=e[r++],a[9]=e[r++],a[10]=e[r++],a[11]=e[r++],a[12]=e[r++],a[13]=e[r++],a[14]=e[r++],a[15]=e[r],a},K.clone=function(e,t){if(n.defined(e))return n.defined(t)?(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t):new K(e[0],e[4],e[8],e[12],e[1],e[5],e[9],e[13],e[2],e[6],e[10],e[14],e[3],e[7],e[11],e[15])},K.fromArray=K.unpack,K.fromColumnMajorArray=function(e,n){return t.Check.defined("values",e),K.clone(e,n)},K.fromRowMajorArray=function(e,r){return t.Check.defined("values",e),n.defined(r)?(r[0]=e[0],r[1]=e[4],r[2]=e[8],r[3]=e[12],r[4]=e[1],r[5]=e[5],r[6]=e[9],r[7]=e[13],r[8]=e[2],r[9]=e[6],r[10]=e[10],r[11]=e[14],r[12]=e[3],r[13]=e[7],r[14]=e[11],r[15]=e[15],r):new K(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15])},K.fromRotationTranslation=function(e,r,i){return t.Check.typeOf.object("rotation",e),r=n.defaultValue(r,a.ZERO),n.defined(i)?(i[0]=e[0],i[1]=e[1],i[2]=e[2],i[3]=0,i[4]=e[3],i[5]=e[4],i[6]=e[5],i[7]=0,i[8]=e[6],i[9]=e[7],i[10]=e[8],i[11]=0,i[12]=r.x,i[13]=r.y,i[14]=r.z,i[15]=1,i):new K(e[0],e[3],e[6],r.x,e[1],e[4],e[7],r.y,e[2],e[5],e[8],r.z,0,0,0,1)},K.fromTranslationQuaternionRotationScale=function(e,r,a,i){t.Check.typeOf.object("translation",e),t.Check.typeOf.object("rotation",r),t.Check.typeOf.object("scale",a),n.defined(i)||(i=new K);var u=a.x,o=a.y,c=a.z,f=r.x*r.x,h=r.x*r.y,s=r.x*r.z,l=r.x*r.w,y=r.y*r.y,d=r.y*r.z,p=r.y*r.w,m=r.z*r.z,O=r.z*r.w,C=r.w*r.w,b=f-y-m+C,k=2*(h-O),x=2*(s+p),g=2*(h+O),j=-f+y-m+C,w=2*(d-l),M=2*(s-p),v=2*(d+l),z=-f-y+m+C;return i[0]=b*u,i[1]=g*u,i[2]=M*u,i[3]=0,i[4]=k*o,i[5]=j*o,i[6]=v*o,i[7]=0,i[8]=x*c,i[9]=w*c,i[10]=z*c,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,i},K.fromTranslationRotationScale=function(e,n){return t.Check.typeOf.object("translationRotationScale",e),K.fromTranslationQuaternionRotationScale(e.translation,e.rotation,e.scale,n)},K.fromTranslation=function(e,n){return t.Check.typeOf.object("translation",e),K.fromRotationTranslation(R.IDENTITY,e,n)},K.fromScale=function(e,r){return t.Check.typeOf.object("scale",e),n.defined(r)?(r[0]=e.x,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=e.y,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=e.z,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r):new K(e.x,0,0,0,0,e.y,0,0,0,0,e.z,0,0,0,0,1)},K.fromUniformScale=function(e,r){return t.Check.typeOf.number("scale",e),n.defined(r)?(r[0]=e,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=e,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=e,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r):new K(e,0,0,0,0,e,0,0,0,0,e,0,0,0,0,1)};var $=new a,ee=new a,te=new a;K.fromCamera=function(e,r){t.Check.typeOf.object("camera",e);var i=e.position,u=e.direction,o=e.up;t.Check.typeOf.object("camera.position",i),t.Check.typeOf.object("camera.direction",u),t.Check.typeOf.object("camera.up",o),a.normalize(u,$),a.normalize(a.cross($,o,ee),ee),a.normalize(a.cross(ee,$,te),te);var c=ee.x,f=ee.y,h=ee.z,s=$.x,l=$.y,y=$.z,d=te.x,p=te.y,m=te.z,O=i.x,C=i.y,b=i.z,k=c*-O+f*-C+h*-b,x=d*-O+p*-C+m*-b,g=s*O+l*C+y*b;return n.defined(r)?(r[0]=c,r[1]=d,r[2]=-s,r[3]=0,r[4]=f,r[5]=p,r[6]=-l,r[7]=0,r[8]=h,r[9]=m,r[10]=-y,r[11]=0,r[12]=k,r[13]=x,r[14]=g,r[15]=1,r):new K(c,f,h,k,d,p,m,x,-s,-l,-y,g,0,0,0,1)},K.computePerspectiveFieldOfView=function(e,n,r,a,i){t.Check.typeOf.number.greaterThan("fovY",e,0),t.Check.typeOf.number.lessThan("fovY",e,Math.PI),t.Check.typeOf.number.greaterThan("near",r,0),t.Check.typeOf.number.greaterThan("far",a,0),t.Check.typeOf.object("result",i);var u=1/Math.tan(.5*e),o=u/n,c=(a+r)/(r-a),f=2*a*r/(r-a);return i[0]=o,i[1]=0,i[2]=0,i[3]=0,i[4]=0,i[5]=u,i[6]=0,i[7]=0,i[8]=0,i[9]=0,i[10]=c,i[11]=-1,i[12]=0,i[13]=0,i[14]=f,i[15]=0,i},K.computeOrthographicOffCenter=function(e,n,r,a,i,u,o){t.Check.typeOf.number("left",e),t.Check.typeOf.number("right",n),t.Check.typeOf.number("bottom",r),t.Check.typeOf.number("top",a),t.Check.typeOf.number("near",i),t.Check.typeOf.number("far",u),t.Check.typeOf.object("result",o);var c=1/(n-e),f=1/(a-r),h=1/(u-i),s=-(n+e)*c,l=-(a+r)*f,y=-(u+i)*h;return c*=2,f*=2,h*=-2,o[0]=c,o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[5]=f,o[6]=0,o[7]=0,o[8]=0,o[9]=0,o[10]=h,o[11]=0,o[12]=s,o[13]=l,o[14]=y,o[15]=1,o},K.computePerspectiveOffCenter=function(e,n,r,a,i,u,o){t.Check.typeOf.number("left",e),t.Check.typeOf.number("right",n),t.Check.typeOf.number("bottom",r),t.Check.typeOf.number("top",a),t.Check.typeOf.number("near",i),t.Check.typeOf.number("far",u),t.Check.typeOf.object("result",o);var c=2*i/(n-e),f=2*i/(a-r),h=(n+e)/(n-e),s=(a+r)/(a-r),l=-(u+i)/(u-i),y=-2*u*i/(u-i);return o[0]=c,o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[5]=f,o[6]=0,o[7]=0,o[8]=h,o[9]=s,o[10]=l,o[11]=-1,o[12]=0,o[13]=0,o[14]=y,o[15]=0,o},K.computeInfinitePerspectiveOffCenter=function(e,n,r,a,i,u){t.Check.typeOf.number("left",e),t.Check.typeOf.number("right",n),t.Check.typeOf.number("bottom",r),t.Check.typeOf.number("top",a),t.Check.typeOf.number("near",i),t.Check.typeOf.object("result",u);var o=2*i/(n-e),c=2*i/(a-r),f=(n+e)/(n-e),h=(a+r)/(a-r),s=-2*i;return u[0]=o,u[1]=0,u[2]=0,u[3]=0,u[4]=0,u[5]=c,u[6]=0,u[7]=0,u[8]=f,u[9]=h,u[10]=-1,u[11]=-1,u[12]=0,u[13]=0,u[14]=s,u[15]=0,u},K.computeViewportTransformation=function(e,t,r,a){n.defined(a)||(a=new K),e=n.defaultValue(e,n.defaultValue.EMPTY_OBJECT);var i=n.defaultValue(e.x,0),u=n.defaultValue(e.y,0),o=n.defaultValue(e.width,0),c=n.defaultValue(e.height,0);t=n.defaultValue(t,0);var f=.5*o,h=.5*c,s=.5*((r=n.defaultValue(r,1))-t),l=f,y=h,d=s,p=i+f,m=u+h,O=t+s;return a[0]=l,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=y,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[10]=d,a[11]=0,a[12]=p,a[13]=m,a[14]=O,a[15]=1,a},K.computeView=function(e,n,r,i,u){return t.Check.typeOf.object("position",e),t.Check.typeOf.object("direction",n),t.Check.typeOf.object("up",r),t.Check.typeOf.object("right",i),t.Check.typeOf.object("result",u),u[0]=i.x,u[1]=r.x,u[2]=-n.x,u[3]=0,u[4]=i.y,u[5]=r.y,u[6]=-n.y,u[7]=0,u[8]=i.z,u[9]=r.z,u[10]=-n.z,u[11]=0,u[12]=-a.dot(i,e),u[13]=-a.dot(r,e),u[14]=a.dot(n,e),u[15]=1,u},K.toArray=function(e,r){return t.Check.typeOf.object("matrix",e),n.defined(r)?(r[0]=e[0],r[1]=e[1],r[2]=e[2],r[3]=e[3],r[4]=e[4],r[5]=e[5],r[6]=e[6],r[7]=e[7],r[8]=e[8],r[9]=e[9],r[10]=e[10],r[11]=e[11],r[12]=e[12],r[13]=e[13],r[14]=e[14],r[15]=e[15],r):[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15]]},K.getElementIndex=function(e,n){return t.Check.typeOf.number.greaterThanOrEquals("row",n,0),t.Check.typeOf.number.lessThanOrEquals("row",n,3),t.Check.typeOf.number.greaterThanOrEquals("column",e,0),t.Check.typeOf.number.lessThanOrEquals("column",e,3),4*e+n},K.getColumn=function(e,n,r){t.Check.typeOf.object("matrix",e),t.Check.typeOf.number.greaterThanOrEquals("index",n,0),t.Check.typeOf.number.lessThanOrEquals("index",n,3),t.Check.typeOf.object("result",r);var a=4*n,i=e[a],u=e[a+1],o=e[a+2],c=e[a+3];return r.x=i,r.y=u,r.z=o,r.w=c,r},K.setColumn=function(e,n,r,a){t.Check.typeOf.object("matrix",e),t.Check.typeOf.number.greaterThanOrEquals("index",n,0),t.Check.typeOf.number.lessThanOrEquals("index",n,3),t.Check.typeOf.object("cartesian",r),t.Check.typeOf.object("result",a);var i=4*n;return(a=K.clone(e,a))[i]=r.x,a[i+1]=r.y,a[i+2]=r.z,a[i+3]=r.w,a},K.setTranslation=function(e,n,r){return t.Check.typeOf.object("matrix",e),t.Check.typeOf.object("translation",n),t.Check.typeOf.object("result",r),r[0]=e[0],r[1]=e[1],r[2]=e[2],r[3]=e[3],r[4]=e[4],r[5]=e[5],r[6]=e[6],r[7]=e[7],r[8]=e[8],r[9]=e[9],r[10]=e[10],r[11]=e[11],r[12]=n.x,r[13]=n.y,r[14]=n.z,r[15]=e[15],r};var ne=new a;K.setScale=function(e,n,r){t.Check.typeOf.object("matrix",e),t.Check.typeOf.object("scale",n),t.Check.typeOf.object("result",r);var i=K.getScale(e,ne),u=a.divideComponents(n,i,ne);return K.multiplyByScale(e,u,r)},K.getRow=function(e,n,r){t.Check.typeOf.object("matrix",e),t.Check.typeOf.number.greaterThanOrEquals("index",n,0),t.Check.typeOf.number.lessThanOrEquals("index",n,3),t.Check.typeOf.object("result",r);var a=e[n],i=e[n+4],u=e[n+8],o=e[n+12];return r.x=a,r.y=i,r.z=u,r.w=o,r},K.setRow=function(e,n,r,a){return t.Check.typeOf.object("matrix",e),t.Check.typeOf.number.greaterThanOrEquals("index",n,0),t.Check.typeOf.number.lessThanOrEquals("index",n,3),t.Check.typeOf.object("cartesian",r),t.Check.typeOf.object("result",a),(a=K.clone(e,a))[n]=r.x,a[n+4]=r.y,a[n+8]=r.z,a[n+12]=r.w,a};var re=new a;K.getScale=function(e,n){return t.Check.typeOf.object("matrix",e),t.Check.typeOf.object("result",n),n.x=a.magnitude(a.fromElements(e[0],e[1],e[2],re)),n.y=a.magnitude(a.fromElements(e[4],e[5],e[6],re)),n.z=a.magnitude(a.fromElements(e[8],e[9],e[10],re)),n};var ae=new a;K.getMaximumScale=function(e){return K.getScale(e,ae),a.maximumComponent(ae)},K.multiply=function(e,n,r){t.Check.typeOf.object("left",e),t.Check.typeOf.object("right",n),t.Check.typeOf.object("result",r);var a=e[0],i=e[1],u=e[2],o=e[3],c=e[4],f=e[5],h=e[6],s=e[7],l=e[8],y=e[9],d=e[10],p=e[11],m=e[12],O=e[13],C=e[14],b=e[15],k=n[0],x=n[1],g=n[2],j=n[3],w=n[4],M=n[5],v=n[6],z=n[7],E=n[8],q=n[9],T=n[10],S=n[11],_=n[12],R=n[13],V=n[14],N=n[15],I=a*k+c*x+l*g+m*j,A=i*k+f*x+y*g+O*j,U=u*k+h*x+d*g+C*j,P=o*k+s*x+p*g+b*j,L=a*w+c*M+l*v+m*z,W=i*w+f*M+y*v+O*z,B=u*w+h*M+d*v+C*z,D=o*w+s*M+p*v+b*z,X=a*E+c*q+l*T+m*S,Z=i*E+f*q+y*T+O*S,Y=u*E+h*q+d*T+C*S,F=o*E+s*q+p*T+b*S,G=a*_+c*R+l*V+m*N,H=i*_+f*R+y*V+O*N,Q=u*_+h*R+d*V+C*N,J=o*_+s*R+p*V+b*N;return r[0]=I,r[1]=A,r[2]=U,r[3]=P,r[4]=L,r[5]=W,r[6]=B,r[7]=D,r[8]=X,r[9]=Z,r[10]=Y,r[11]=F,r[12]=G,r[13]=H,r[14]=Q,r[15]=J,r},K.add=function(e,n,r){return t.Check.typeOf.object("left",e),t.Check.typeOf.object("right",n),t.Check.typeOf.object("result",r),r[0]=e[0]+n[0],r[1]=e[1]+n[1],r[2]=e[2]+n[2],r[3]=e[3]+n[3],r[4]=e[4]+n[4],r[5]=e[5]+n[5],r[6]=e[6]+n[6],r[7]=e[7]+n[7],r[8]=e[8]+n[8],r[9]=e[9]+n[9],r[10]=e[10]+n[10],r[11]=e[11]+n[11],r[12]=e[12]+n[12],r[13]=e[13]+n[13],r[14]=e[14]+n[14],r[15]=e[15]+n[15],r},K.subtract=function(e,n,r){return t.Check.typeOf.object("left",e),t.Check.typeOf.object("right",n),t.Check.typeOf.object("result",r),r[0]=e[0]-n[0],r[1]=e[1]-n[1],r[2]=e[2]-n[2],r[3]=e[3]-n[3],r[4]=e[4]-n[4],r[5]=e[5]-n[5],r[6]=e[6]-n[6],r[7]=e[7]-n[7],r[8]=e[8]-n[8],r[9]=e[9]-n[9],r[10]=e[10]-n[10],r[11]=e[11]-n[11],r[12]=e[12]-n[12],r[13]=e[13]-n[13],r[14]=e[14]-n[14],r[15]=e[15]-n[15],r},K.multiplyTransformation=function(e,n,r){t.Check.typeOf.object("left",e),t.Check.typeOf.object("right",n),t.Check.typeOf.object("result",r);var a=e[0],i=e[1],u=e[2],o=e[4],c=e[5],f=e[6],h=e[8],s=e[9],l=e[10],y=e[12],d=e[13],p=e[14],m=n[0],O=n[1],C=n[2],b=n[4],k=n[5],x=n[6],g=n[8],j=n[9],w=n[10],M=n[12],v=n[13],z=n[14],E=a*m+o*O+h*C,q=i*m+c*O+s*C,T=u*m+f*O+l*C,S=a*b+o*k+h*x,_=i*b+c*k+s*x,R=u*b+f*k+l*x,V=a*g+o*j+h*w,N=i*g+c*j+s*w,I=u*g+f*j+l*w,A=a*M+o*v+h*z+y,U=i*M+c*v+s*z+d,P=u*M+f*v+l*z+p;return r[0]=E,r[1]=q,r[2]=T,r[3]=0,r[4]=S,r[5]=_,r[6]=R,r[7]=0,r[8]=V,r[9]=N,r[10]=I,r[11]=0,r[12]=A,r[13]=U,r[14]=P,r[15]=1,r},K.multiplyByMatrix3=function(e,n,r){t.Check.typeOf.object("matrix",e),t.Check.typeOf.object("rotation",n),t.Check.typeOf.object("result",r);var a=e[0],i=e[1],u=e[2],o=e[4],c=e[5],f=e[6],h=e[8],s=e[9],l=e[10],y=n[0],d=n[1],p=n[2],m=n[3],O=n[4],C=n[5],b=n[6],k=n[7],x=n[8],g=a*y+o*d+h*p,j=i*y+c*d+s*p,w=u*y+f*d+l*p,M=a*m+o*O+h*C,v=i*m+c*O+s*C,z=u*m+f*O+l*C,E=a*b+o*k+h*x,q=i*b+c*k+s*x,T=u*b+f*k+l*x;return r[0]=g,r[1]=j,r[2]=w,r[3]=0,r[4]=M,r[5]=v,r[6]=z,r[7]=0,r[8]=E,r[9]=q,r[10]=T,r[11]=0,r[12]=e[12],r[13]=e[13],r[14]=e[14],r[15]=e[15],r},K.multiplyByTranslation=function(e,n,r){t.Check.typeOf.object("matrix",e),t.Check.typeOf.object("translation",n),t.Check.typeOf.object("result",r);var a=n.x,i=n.y,u=n.z,o=a*e[0]+i*e[4]+u*e[8]+e[12],c=a*e[1]+i*e[5]+u*e[9]+e[13],f=a*e[2]+i*e[6]+u*e[10]+e[14];return r[0]=e[0],r[1]=e[1],r[2]=e[2],r[3]=e[3],r[4]=e[4],r[5]=e[5],r[6]=e[6],r[7]=e[7],r[8]=e[8],r[9]=e[9],r[10]=e[10],r[11]=e[11],r[12]=o,r[13]=c,r[14]=f,r[15]=e[15],r};var ie=new a;K.multiplyByUniformScale=function(e,n,r){return t.Check.typeOf.object("matrix",e),t.Check.typeOf.number("scale",n),t.Check.typeOf.object("result",r),ie.x=n,ie.y=n,ie.z=n,K.multiplyByScale(e,ie,r)},K.multiplyByScale=function(e,n,r){t.Check.typeOf.object("matrix",e),t.Check.typeOf.object("scale",n),t.Check.typeOf.object("result",r);var a=n.x,i=n.y,u=n.z;return 1===a&&1===i&&1===u?K.clone(e,r):(r[0]=a*e[0],r[1]=a*e[1],r[2]=a*e[2],r[3]=0,r[4]=i*e[4],r[5]=i*e[5],r[6]=i*e[6],r[7]=0,r[8]=u*e[8],r[9]=u*e[9],r[10]=u*e[10],r[11]=0,r[12]=e[12],r[13]=e[13],r[14]=e[14],r[15]=1,r)},K.multiplyByVector=function(e,n,r){t.Check.typeOf.object("matrix",e),t.Check.typeOf.object("cartesian",n),t.Check.typeOf.object("result",r);var a=n.x,i=n.y,u=n.z,o=n.w,c=e[0]*a+e[4]*i+e[8]*u+e[12]*o,f=e[1]*a+e[5]*i+e[9]*u+e[13]*o,h=e[2]*a+e[6]*i+e[10]*u+e[14]*o,s=e[3]*a+e[7]*i+e[11]*u+e[15]*o;return r.x=c,r.y=f,r.z=h,r.w=s,r},K.multiplyByPointAsVector=function(e,n,r){t.Check.typeOf.object("matrix",e),t.Check.typeOf.object("cartesian",n),t.Check.typeOf.object("result",r);var a=n.x,i=n.y,u=n.z,o=e[0]*a+e[4]*i+e[8]*u,c=e[1]*a+e[5]*i+e[9]*u,f=e[2]*a+e[6]*i+e[10]*u;return r.x=o,r.y=c,r.z=f,r},K.multiplyByPoint=function(e,n,r){t.Check.typeOf.object("matrix",e),t.Check.typeOf.object("cartesian",n),t.Check.typeOf.object("result",r);var a=n.x,i=n.y,u=n.z,o=e[0]*a+e[4]*i+e[8]*u+e[12],c=e[1]*a+e[5]*i+e[9]*u+e[13],f=e[2]*a+e[6]*i+e[10]*u+e[14];return r.x=o,r.y=c,r.z=f,r},K.multiplyByScalar=function(e,n,r){return t.Check.typeOf.object("matrix",e),t.Check.typeOf.number("scalar",n),t.Check.typeOf.object("result",r),r[0]=e[0]*n,r[1]=e[1]*n,r[2]=e[2]*n,r[3]=e[3]*n,r[4]=e[4]*n,r[5]=e[5]*n,r[6]=e[6]*n,r[7]=e[7]*n,r[8]=e[8]*n,r[9]=e[9]*n,r[10]=e[10]*n,r[11]=e[11]*n,r[12]=e[12]*n,r[13]=e[13]*n,r[14]=e[14]*n,r[15]=e[15]*n,r},K.negate=function(e,n){return t.Check.typeOf.object("matrix",e),t.Check.typeOf.object("result",n),n[0]=-e[0],n[1]=-e[1],n[2]=-e[2],n[3]=-e[3],n[4]=-e[4],n[5]=-e[5],n[6]=-e[6],n[7]=-e[7],n[8]=-e[8],n[9]=-e[9],n[10]=-e[10],n[11]=-e[11],n[12]=-e[12],n[13]=-e[13],n[14]=-e[14],n[15]=-e[15],n},K.transpose=function(e,n){t.Check.typeOf.object("matrix",e),t.Check.typeOf.object("result",n);var r=e[1],a=e[2],i=e[3],u=e[6],o=e[7],c=e[11];return n[0]=e[0],n[1]=e[4],n[2]=e[8],n[3]=e[12],n[4]=r,n[5]=e[5],n[6]=e[9],n[7]=e[13],n[8]=a,n[9]=u,n[10]=e[10],n[11]=e[14],n[12]=i,n[13]=o,n[14]=c,n[15]=e[15],n},K.abs=function(e,n){return t.Check.typeOf.object("matrix",e),t.Check.typeOf.object("result",n),n[0]=Math.abs(e[0]),n[1]=Math.abs(e[1]),n[2]=Math.abs(e[2]),n[3]=Math.abs(e[3]),n[4]=Math.abs(e[4]),n[5]=Math.abs(e[5]),n[6]=Math.abs(e[6]),n[7]=Math.abs(e[7]),n[8]=Math.abs(e[8]),n[9]=Math.abs(e[9]),n[10]=Math.abs(e[10]),n[11]=Math.abs(e[11]),n[12]=Math.abs(e[12]),n[13]=Math.abs(e[13]),n[14]=Math.abs(e[14]),n[15]=Math.abs(e[15]),n},K.equals=function(e,t){return e===t||n.defined(e)&&n.defined(t)&&e[12]===t[12]&&e[13]===t[13]&&e[14]===t[14]&&e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[8]===t[8]&&e[9]===t[9]&&e[10]===t[10]&&e[3]===t[3]&&e[7]===t[7]&&e[11]===t[11]&&e[15]===t[15]},K.equalsEpsilon=function(e,t,r){return r=n.defaultValue(r,0),e===t||n.defined(e)&&n.defined(t)&&Math.abs(e[0]-t[0])<=r&&Math.abs(e[1]-t[1])<=r&&Math.abs(e[2]-t[2])<=r&&Math.abs(e[3]-t[3])<=r&&Math.abs(e[4]-t[4])<=r&&Math.abs(e[5]-t[5])<=r&&Math.abs(e[6]-t[6])<=r&&Math.abs(e[7]-t[7])<=r&&Math.abs(e[8]-t[8])<=r&&Math.abs(e[9]-t[9])<=r&&Math.abs(e[10]-t[10])<=r&&Math.abs(e[11]-t[11])<=r&&Math.abs(e[12]-t[12])<=r&&Math.abs(e[13]-t[13])<=r&&Math.abs(e[14]-t[14])<=r&&Math.abs(e[15]-t[15])<=r},K.getTranslation=function(e,n){return t.Check.typeOf.object("matrix",e),t.Check.typeOf.object("result",n),n.x=e[12],n.y=e[13],n.z=e[14],n},K.getMatrix3=function(e,n){return t.Check.typeOf.object("matrix",e),t.Check.typeOf.object("result",n),n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=e[4],n[4]=e[5],n[5]=e[6],n[6]=e[8],n[7]=e[9],n[8]=e[10],n};var ue=new R,oe=new R,ce=new X,fe=new X(0,0,0,1);K.inverse=function(e,n){t.Check.typeOf.object("matrix",e),t.Check.typeOf.object("result",n);var a=e[0],i=e[4],u=e[8],o=e[12],c=e[1],f=e[5],h=e[9],s=e[13],l=e[2],y=e[6],d=e[10],p=e[14],m=e[3],O=e[7],C=e[11],b=e[15],k=d*b,x=p*C,g=y*b,j=p*O,w=y*C,M=d*O,v=l*b,z=p*m,E=l*C,q=d*m,T=l*O,S=y*m,_=k*f+j*h+w*s-(x*f+g*h+M*s),V=x*c+v*h+q*s-(k*c+z*h+E*s),N=g*c+z*f+T*s-(j*c+v*f+S*s),I=M*c+E*f+S*h-(w*c+q*f+T*h),A=x*i+g*u+M*o-(k*i+j*u+w*o),U=k*a+z*u+E*o-(x*a+v*u+q*o),P=j*a+v*i+S*o-(g*a+z*i+T*o),L=w*a+q*i+T*u-(M*a+E*i+S*u),W=(k=u*s)*O+(j=o*f)*C+(w=i*h)*b-((x=o*h)*O+(g=i*s)*C+(M=u*f)*b),B=x*m+(v=a*s)*C+(q=u*c)*b-(k*m+(z=o*c)*C+(E=a*h)*b),D=g*m+z*O+(T=a*f)*b-(j*m+v*O+(S=i*c)*b),Z=M*m+E*O+S*C-(w*m+q*O+T*C),Y=g*d+M*p+x*y-(w*p+k*y+j*d),F=E*p+k*l+z*d-(v*d+q*p+x*l),G=v*y+S*p+j*l-(T*p+g*l+z*y),H=T*d+w*l+q*y-(E*y+S*d+M*l),Q=a*_+i*V+u*N+o*I;if(Math.abs(Q)<r.CesiumMath.EPSILON21){if(R.equalsEpsilon(K.getMatrix3(e,ue),oe,r.CesiumMath.EPSILON7)&&X.equals(K.getRow(e,3,ce),fe))return n[0]=0,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=0,n[6]=0,n[7]=0,n[8]=0,n[9]=0,n[10]=0,n[11]=0,n[12]=-e[12],n[13]=-e[13],n[14]=-e[14],n[15]=1,n;throw new t.RuntimeError("matrix is not invertible because its determinate is zero.")}return Q=1/Q,n[0]=_*Q,n[1]=V*Q,n[2]=N*Q,n[3]=I*Q,n[4]=A*Q,n[5]=U*Q,n[6]=P*Q,n[7]=L*Q,n[8]=W*Q,n[9]=B*Q,n[10]=D*Q,n[11]=Z*Q,n[12]=Y*Q,n[13]=F*Q,n[14]=G*Q,n[15]=H*Q,n},K.inverseTransformation=function(e,n){t.Check.typeOf.object("matrix",e),t.Check.typeOf.object("result",n);var r=e[0],a=e[1],i=e[2],u=e[4],o=e[5],c=e[6],f=e[8],h=e[9],s=e[10],l=e[12],y=e[13],d=e[14],p=-r*l-a*y-i*d,m=-u*l-o*y-c*d,O=-f*l-h*y-s*d;return n[0]=r,n[1]=u,n[2]=f,n[3]=0,n[4]=a,n[5]=o,n[6]=h,n[7]=0,n[8]=i,n[9]=c,n[10]=s,n[11]=0,n[12]=p,n[13]=m,n[14]=O,n[15]=1,n};var he=new K;function se(e,t,r,a){this.west=n.defaultValue(e,0),this.south=n.defaultValue(t,0),this.east=n.defaultValue(r,0),this.north=n.defaultValue(a,0)}K.inverseTranspose=function(e,n){return t.Check.typeOf.object("matrix",e),t.Check.typeOf.object("result",n),K.inverse(K.transpose(e,he),n)},K.IDENTITY=Object.freeze(new K(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)),K.ZERO=Object.freeze(new K(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)),K.COLUMN0ROW0=0,K.COLUMN0ROW1=1,K.COLUMN0ROW2=2,K.COLUMN0ROW3=3,K.COLUMN1ROW0=4,K.COLUMN1ROW1=5,K.COLUMN1ROW2=6,K.COLUMN1ROW3=7,K.COLUMN2ROW0=8,K.COLUMN2ROW1=9,K.COLUMN2ROW2=10,K.COLUMN2ROW3=11,K.COLUMN3ROW0=12,K.COLUMN3ROW1=13,K.COLUMN3ROW2=14,K.COLUMN3ROW3=15,Object.defineProperties(K.prototype,{length:{get:function(){return K.packedLength}}}),K.prototype.clone=function(e){return K.clone(this,e)},K.prototype.equals=function(e){return K.equals(this,e)},K.equalsArray=function(e,t,n){return e[0]===t[n]&&e[1]===t[n+1]&&e[2]===t[n+2]&&e[3]===t[n+3]&&e[4]===t[n+4]&&e[5]===t[n+5]&&e[6]===t[n+6]&&e[7]===t[n+7]&&e[8]===t[n+8]&&e[9]===t[n+9]&&e[10]===t[n+10]&&e[11]===t[n+11]&&e[12]===t[n+12]&&e[13]===t[n+13]&&e[14]===t[n+14]&&e[15]===t[n+15]},K.prototype.equalsEpsilon=function(e,t){return K.equalsEpsilon(this,e,t)},K.prototype.toString=function(){return"("+this[0]+", "+this[4]+", "+this[8]+", "+this[12]+")\n("+this[1]+", "+this[5]+", "+this[9]+", "+this[13]+")\n("+this[2]+", "+this[6]+", "+this[10]+", "+this[14]+")\n("+this[3]+", "+this[7]+", "+this[11]+", "+this[15]+")"},Object.defineProperties(se.prototype,{width:{get:function(){return se.computeWidth(this)}},height:{get:function(){return se.computeHeight(this)}}}),se.packedLength=4,se.pack=function(e,r,a){return t.Check.typeOf.object("value",e),t.Check.defined("array",r),a=n.defaultValue(a,0),r[a++]=e.west,r[a++]=e.south,r[a++]=e.east,r[a]=e.north,r},se.unpack=function(e,r,a){return t.Check.defined("array",e),r=n.defaultValue(r,0),n.defined(a)||(a=new se),a.west=e[r++],a.south=e[r++],a.east=e[r++],a.north=e[r],a},se.computeWidth=function(e){t.Check.typeOf.object("rectangle",e);var n=e.east,a=e.west;return n<a&&(n+=r.CesiumMath.TWO_PI),n-a},se.computeHeight=function(e){return t.Check.typeOf.object("rectangle",e),e.north-e.south},se.fromDegrees=function(e,t,a,i,u){return e=r.CesiumMath.toRadians(n.defaultValue(e,0)),t=r.CesiumMath.toRadians(n.defaultValue(t,0)),a=r.CesiumMath.toRadians(n.defaultValue(a,0)),i=r.CesiumMath.toRadians(n.defaultValue(i,0)),n.defined(u)?(u.west=e,u.south=t,u.east=a,u.north=i,u):new se(e,t,a,i)},se.fromRadians=function(e,t,r,a,i){return n.defined(i)?(i.west=n.defaultValue(e,0),i.south=n.defaultValue(t,0),i.east=n.defaultValue(r,0),i.north=n.defaultValue(a,0),i):new se(e,t,r,a)},se.fromCartographicArray=function(e,a){t.Check.defined("cartographics",e);for(var i=Number.MAX_VALUE,u=-Number.MAX_VALUE,o=Number.MAX_VALUE,c=-Number.MAX_VALUE,f=Number.MAX_VALUE,h=-Number.MAX_VALUE,s=0,l=e.length;s<l;s++){var y=e[s];i=Math.min(i,y.longitude),u=Math.max(u,y.longitude),f=Math.min(f,y.latitude),h=Math.max(h,y.latitude);var d=y.longitude>=0?y.longitude:y.longitude+r.CesiumMath.TWO_PI;o=Math.min(o,d),c=Math.max(c,d)}return u-i>c-o&&(i=o,(u=c)>r.CesiumMath.PI&&(u-=r.CesiumMath.TWO_PI),i>r.CesiumMath.PI&&(i-=r.CesiumMath.TWO_PI)),n.defined(a)?(a.west=i,a.south=f,a.east=u,a.north=h,a):new se(i,f,u,h)},se.fromCartesianArray=function(e,a,i){t.Check.defined("cartesians",e),a=n.defaultValue(a,w.WGS84);for(var u=Number.MAX_VALUE,o=-Number.MAX_VALUE,c=Number.MAX_VALUE,f=-Number.MAX_VALUE,h=Number.MAX_VALUE,s=-Number.MAX_VALUE,l=0,y=e.length;l<y;l++){var d=a.cartesianToCartographic(e[l]);u=Math.min(u,d.longitude),o=Math.max(o,d.longitude),h=Math.min(h,d.latitude),s=Math.max(s,d.latitude);var p=d.longitude>=0?d.longitude:d.longitude+r.CesiumMath.TWO_PI;c=Math.min(c,p),f=Math.max(f,p)}return o-u>f-c&&(u=c,(o=f)>r.CesiumMath.PI&&(o-=r.CesiumMath.TWO_PI),u>r.CesiumMath.PI&&(u-=r.CesiumMath.TWO_PI)),n.defined(i)?(i.west=u,i.south=h,i.east=o,i.north=s,i):new se(u,h,o,s)},se.clone=function(e,t){if(n.defined(e))return n.defined(t)?(t.west=e.west,t.south=e.south,t.east=e.east,t.north=e.north,t):new se(e.west,e.south,e.east,e.north)},se.equalsEpsilon=function(e,t,r){return r=n.defaultValue(r,0),e===t||n.defined(e)&&n.defined(t)&&Math.abs(e.west-t.west)<=r&&Math.abs(e.south-t.south)<=r&&Math.abs(e.east-t.east)<=r&&Math.abs(e.north-t.north)<=r},se.prototype.clone=function(e){return se.clone(this,e)},se.prototype.equals=function(e){return se.equals(this,e)},se.equals=function(e,t){return e===t||n.defined(e)&&n.defined(t)&&e.west===t.west&&e.south===t.south&&e.east===t.east&&e.north===t.north},se.prototype.equalsEpsilon=function(e,t){return se.equalsEpsilon(this,e,t)},se.validate=function(e){t.Check.typeOf.object("rectangle",e);var n=e.north;t.Check.typeOf.number.greaterThanOrEquals("north",n,-r.CesiumMath.PI_OVER_TWO),t.Check.typeOf.number.lessThanOrEquals("north",n,r.CesiumMath.PI_OVER_TWO);var a=e.south;t.Check.typeOf.number.greaterThanOrEquals("south",a,-r.CesiumMath.PI_OVER_TWO),t.Check.typeOf.number.lessThanOrEquals("south",a,r.CesiumMath.PI_OVER_TWO);var i=e.west;t.Check.typeOf.number.greaterThanOrEquals("west",i,-Math.PI),t.Check.typeOf.number.lessThanOrEquals("west",i,Math.PI);var u=e.east;t.Check.typeOf.number.greaterThanOrEquals("east",u,-Math.PI),t.Check.typeOf.number.lessThanOrEquals("east",u,Math.PI)},se.southwest=function(e,r){return t.Check.typeOf.object("rectangle",e),n.defined(r)?(r.longitude=e.west,r.latitude=e.south,r.height=0,r):new m(e.west,e.south)},se.northwest=function(e,r){return t.Check.typeOf.object("rectangle",e),n.defined(r)?(r.longitude=e.west,r.latitude=e.north,r.height=0,r):new m(e.west,e.north)},se.northeast=function(e,r){return t.Check.typeOf.object("rectangle",e),n.defined(r)?(r.longitude=e.east,r.latitude=e.north,r.height=0,r):new m(e.east,e.north)},se.southeast=function(e,r){return t.Check.typeOf.object("rectangle",e),n.defined(r)?(r.longitude=e.east,r.latitude=e.south,r.height=0,r):new m(e.east,e.south)},se.center=function(e,a){t.Check.typeOf.object("rectangle",e);var i=e.east,u=e.west;i<u&&(i+=r.CesiumMath.TWO_PI);var o=r.CesiumMath.negativePiToPi(.5*(u+i)),c=.5*(e.south+e.north);return n.defined(a)?(a.longitude=o,a.latitude=c,a.height=0,a):new m(o,c)},se.intersection=function(e,a,i){t.Check.typeOf.object("rectangle",e),t.Check.typeOf.object("otherRectangle",a);var u=e.east,o=e.west,c=a.east,f=a.west;u<o&&c>0?u+=r.CesiumMath.TWO_PI:c<f&&u>0&&(c+=r.CesiumMath.TWO_PI),u<o&&f<0?f+=r.CesiumMath.TWO_PI:c<f&&o<0&&(o+=r.CesiumMath.TWO_PI);var h=r.CesiumMath.negativePiToPi(Math.max(o,f)),s=r.CesiumMath.negativePiToPi(Math.min(u,c));if(!((e.west<e.east||a.west<a.east)&&s<=h)){var l=Math.max(e.south,a.south),y=Math.min(e.north,a.north);if(!(l>=y))return n.defined(i)?(i.west=h,i.south=l,i.east=s,i.north=y,i):new se(h,l,s,y)}},se.simpleIntersection=function(e,r,a){t.Check.typeOf.object("rectangle",e),t.Check.typeOf.object("otherRectangle",r);var i=Math.max(e.west,r.west),u=Math.max(e.south,r.south),o=Math.min(e.east,r.east),c=Math.min(e.north,r.north);if(!(u>=c||i>=o))return n.defined(a)?(a.west=i,a.south=u,a.east=o,a.north=c,a):new se(i,u,o,c)},se.union=function(e,a,i){t.Check.typeOf.object("rectangle",e),t.Check.typeOf.object("otherRectangle",a),n.defined(i)||(i=new se);var u=e.east,o=e.west,c=a.east,f=a.west;u<o&&c>0?u+=r.CesiumMath.TWO_PI:c<f&&u>0&&(c+=r.CesiumMath.TWO_PI),u<o&&f<0?f+=r.CesiumMath.TWO_PI:c<f&&o<0&&(o+=r.CesiumMath.TWO_PI);var h=r.CesiumMath.negativePiToPi(Math.min(o,f)),s=r.CesiumMath.negativePiToPi(Math.max(u,c));return i.west=h,i.south=Math.min(e.south,a.south),i.east=s,i.north=Math.max(e.north,a.north),i},se.expand=function(e,r,a){return t.Check.typeOf.object("rectangle",e),t.Check.typeOf.object("cartographic",r),n.defined(a)||(a=new se),a.west=Math.min(e.west,r.longitude),a.south=Math.min(e.south,r.latitude),a.east=Math.max(e.east,r.longitude),a.north=Math.max(e.north,r.latitude),a},se.contains=function(e,n){t.Check.typeOf.object("rectangle",e),t.Check.typeOf.object("cartographic",n);var a=n.longitude,i=n.latitude,u=e.west,o=e.east;return o<u&&(o+=r.CesiumMath.TWO_PI,a<0&&(a+=r.CesiumMath.TWO_PI)),(a>u||r.CesiumMath.equalsEpsilon(a,u,r.CesiumMath.EPSILON14))&&(a<o||r.CesiumMath.equalsEpsilon(a,o,r.CesiumMath.EPSILON14))&&i>=e.south&&i<=e.north};var le=new m;function ye(e,t){this.x=n.defaultValue(e,0),this.y=n.defaultValue(t,0)}se.subsample=function(e,a,i,u){t.Check.typeOf.object("rectangle",e),a=n.defaultValue(a,w.WGS84),i=n.defaultValue(i,0),n.defined(u)||(u=[]);var o=0,c=e.north,f=e.south,h=e.east,s=e.west,l=le;l.height=i,l.longitude=s,l.latitude=c,u[o]=a.cartographicToCartesian(l,u[o]),o++,l.longitude=h,u[o]=a.cartographicToCartesian(l,u[o]),o++,l.latitude=f,u[o]=a.cartographicToCartesian(l,u[o]),o++,l.longitude=s,u[o]=a.cartographicToCartesian(l,u[o]),o++,l.latitude=c<0?c:f>0?f:0;for(var y=1;y<8;++y)l.longitude=-Math.PI+y*r.CesiumMath.PI_OVER_TWO,se.contains(e,l)&&(u[o]=a.cartographicToCartesian(l,u[o]),o++);return 0===l.latitude&&(l.longitude=s,u[o]=a.cartographicToCartesian(l,u[o]),o++,l.longitude=h,u[o]=a.cartographicToCartesian(l,u[o]),o++),u.length=o,u},se.MAX_VALUE=Object.freeze(new se(-Math.PI,-r.CesiumMath.PI_OVER_TWO,Math.PI,r.CesiumMath.PI_OVER_TWO)),ye.fromElements=function(e,t,r){return n.defined(r)?(r.x=e,r.y=t,r):new ye(e,t)},ye.clone=function(e,t){if(n.defined(e))return n.defined(t)?(t.x=e.x,t.y=e.y,t):new ye(e.x,e.y)},ye.fromCartesian3=ye.clone,ye.fromCartesian4=ye.clone,ye.packedLength=2,ye.pack=function(e,r,a){return t.Check.typeOf.object("value",e),t.Check.defined("array",r),a=n.defaultValue(a,0),r[a++]=e.x,r[a]=e.y,r},ye.unpack=function(e,r,a){return t.Check.defined("array",e),r=n.defaultValue(r,0),n.defined(a)||(a=new ye),a.x=e[r++],a.y=e[r],a},ye.packArray=function(e,r){t.Check.defined("array",e);var a=e.length,i=2*a;if(n.defined(r)){if(!Array.isArray(r)&&r.length!==i)throw new t.DeveloperError("If result is a typed array, it must have exactly array.length * 2 elements");r.length!==i&&(r.length=i)}else r=new Array(i);for(var u=0;u<a;++u)ye.pack(e[u],r,2*u);return r},ye.unpackArray=function(e,r){if(t.Check.defined("array",e),t.Check.typeOf.number.greaterThanOrEquals("array.length",e.length,2),e.length%2!=0)throw new t.DeveloperError("array length must be a multiple of 2.");var a=e.length;n.defined(r)?r.length=a/2:r=new Array(a/2);for(var i=0;i<a;i+=2){var u=i/2;r[u]=ye.unpack(e,i,r[u])}return r},ye.fromArray=ye.unpack,ye.maximumComponent=function(e){return t.Check.typeOf.object("cartesian",e),Math.max(e.x,e.y)},ye.minimumComponent=function(e){return t.Check.typeOf.object("cartesian",e),Math.min(e.x,e.y)},ye.minimumByComponent=function(e,n,r){return t.Check.typeOf.object("first",e),t.Check.typeOf.object("second",n),t.Check.typeOf.object("result",r),r.x=Math.min(e.x,n.x),r.y=Math.min(e.y,n.y),r},ye.maximumByComponent=function(e,n,r){return t.Check.typeOf.object("first",e),t.Check.typeOf.object("second",n),t.Check.typeOf.object("result",r),r.x=Math.max(e.x,n.x),r.y=Math.max(e.y,n.y),r},ye.magnitudeSquared=function(e){return t.Check.typeOf.object("cartesian",e),e.x*e.x+e.y*e.y},ye.magnitude=function(e){return Math.sqrt(ye.magnitudeSquared(e))};var de=new ye;ye.distance=function(e,n){return t.Check.typeOf.object("left",e),t.Check.typeOf.object("right",n),ye.subtract(e,n,de),ye.magnitude(de)},ye.distanceSquared=function(e,n){return t.Check.typeOf.object("left",e),t.Check.typeOf.object("right",n),ye.subtract(e,n,de),ye.magnitudeSquared(de)},ye.normalize=function(e,n){t.Check.typeOf.object("cartesian",e),t.Check.typeOf.object("result",n);var r=ye.magnitude(e);if(n.x=e.x/r,n.y=e.y/r,isNaN(n.x)||isNaN(n.y))throw new t.DeveloperError("normalized result is not a number");return n},ye.dot=function(e,n){return t.Check.typeOf.object("left",e),t.Check.typeOf.object("right",n),e.x*n.x+e.y*n.y},ye.cross=function(e,n){return t.Check.typeOf.object("left",e),t.Check.typeOf.object("right",n),e.x*n.y-e.y*n.x},ye.multiplyComponents=function(e,n,r){return t.Check.typeOf.object("left",e),t.Check.typeOf.object("right",n),t.Check.typeOf.object("result",r),r.x=e.x*n.x,r.y=e.y*n.y,r},ye.divideComponents=function(e,n,r){return t.Check.typeOf.object("left",e),t.Check.typeOf.object("right",n),t.Check.typeOf.object("result",r),r.x=e.x/n.x,r.y=e.y/n.y,r},ye.add=function(e,n,r){return t.Check.typeOf.object("left",e),t.Check.typeOf.object("right",n),t.Check.typeOf.object("result",r),r.x=e.x+n.x,r.y=e.y+n.y,r},ye.subtract=function(e,n,r){return t.Check.typeOf.object("left",e),t.Check.typeOf.object("right",n),t.Check.typeOf.object("result",r),r.x=e.x-n.x,r.y=e.y-n.y,r},ye.multiplyByScalar=function(e,n,r){return t.Check.typeOf.object("cartesian",e),t.Check.typeOf.number("scalar",n),t.Check.typeOf.object("result",r),r.x=e.x*n,r.y=e.y*n,r},ye.divideByScalar=function(e,n,r){return t.Check.typeOf.object("cartesian",e),t.Check.typeOf.number("scalar",n),t.Check.typeOf.object("result",r),r.x=e.x/n,r.y=e.y/n,r},ye.negate=function(e,n){return t.Check.typeOf.object("cartesian",e),t.Check.typeOf.object("result",n),n.x=-e.x,n.y=-e.y,n},ye.abs=function(e,n){return t.Check.typeOf.object("cartesian",e),t.Check.typeOf.object("result",n),n.x=Math.abs(e.x),n.y=Math.abs(e.y),n};var pe=new ye;ye.lerp=function(e,n,r,a){return t.Check.typeOf.object("start",e),t.Check.typeOf.object("end",n),t.Check.typeOf.number("t",r),t.Check.typeOf.object("result",a),ye.multiplyByScalar(n,r,pe),a=ye.multiplyByScalar(e,1-r,a),ye.add(pe,a,a)};var me=new ye,Oe=new ye;ye.angleBetween=function(e,n){return t.Check.typeOf.object("left",e),t.Check.typeOf.object("right",n),ye.normalize(e,me),ye.normalize(n,Oe),r.CesiumMath.acosClamped(ye.dot(me,Oe))};var Ce=new ye;function be(e,t,r,a){this[0]=n.defaultValue(e,0),this[1]=n.defaultValue(r,0),this[2]=n.defaultValue(t,0),this[3]=n.defaultValue(a,0)}ye.mostOrthogonalAxis=function(e,n){t.Check.typeOf.object("cartesian",e),t.Check.typeOf.object("result",n);var r=ye.normalize(e,Ce);return ye.abs(r,r),n=r.x<=r.y?ye.clone(ye.UNIT_X,n):ye.clone(ye.UNIT_Y,n)},ye.equals=function(e,t){return e===t||n.defined(e)&&n.defined(t)&&e.x===t.x&&e.y===t.y},ye.equalsArray=function(e,t,n){return e.x===t[n]&&e.y===t[n+1]},ye.equalsEpsilon=function(e,t,a,i){return e===t||n.defined(e)&&n.defined(t)&&r.CesiumMath.equalsEpsilon(e.x,t.x,a,i)&&r.CesiumMath.equalsEpsilon(e.y,t.y,a,i)},ye.ZERO=Object.freeze(new ye(0,0)),ye.ONE=Object.freeze(new ye(1,1)),ye.UNIT_X=Object.freeze(new ye(1,0)),ye.UNIT_Y=Object.freeze(new ye(0,1)),ye.prototype.clone=function(e){return ye.clone(this,e)},ye.prototype.equals=function(e){return ye.equals(this,e)},ye.prototype.equalsEpsilon=function(e,t,n){return ye.equalsEpsilon(this,e,t,n)},ye.prototype.toString=function(){return"("+this.x+", "+this.y+")"},be.packedLength=4,be.pack=function(e,r,a){return t.Check.typeOf.object("value",e),t.Check.defined("array",r),a=n.defaultValue(a,0),r[a++]=e[0],r[a++]=e[1],r[a++]=e[2],r[a++]=e[3],r},be.unpack=function(e,r,a){return t.Check.defined("array",e),r=n.defaultValue(r,0),n.defined(a)||(a=new be),a[0]=e[r++],a[1]=e[r++],a[2]=e[r++],a[3]=e[r++],a},be.clone=function(e,t){if(n.defined(e))return n.defined(t)?(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t):new be(e[0],e[2],e[1],e[3])},be.fromArray=function(e,r,a){return t.Check.defined("array",e),r=n.defaultValue(r,0),n.defined(a)||(a=new be),a[0]=e[r],a[1]=e[r+1],a[2]=e[r+2],a[3]=e[r+3],a},be.fromColumnMajorArray=function(e,n){return t.Check.defined("values",e),be.clone(e,n)},be.fromRowMajorArray=function(e,r){return t.Check.defined("values",e),n.defined(r)?(r[0]=e[0],r[1]=e[2],r[2]=e[1],r[3]=e[3],r):new be(e[0],e[1],e[2],e[3])},be.fromScale=function(e,r){return t.Check.typeOf.object("scale",e),n.defined(r)?(r[0]=e.x,r[1]=0,r[2]=0,r[3]=e.y,r):new be(e.x,0,0,e.y)},be.fromUniformScale=function(e,r){return t.Check.typeOf.number("scale",e),n.defined(r)?(r[0]=e,r[1]=0,r[2]=0,r[3]=e,r):new be(e,0,0,e)},be.fromRotation=function(e,r){t.Check.typeOf.number("angle",e);var a=Math.cos(e),i=Math.sin(e);return n.defined(r)?(r[0]=a,r[1]=i,r[2]=-i,r[3]=a,r):new be(a,-i,i,a)},be.toArray=function(e,r){return t.Check.typeOf.object("matrix",e),n.defined(r)?(r[0]=e[0],r[1]=e[1],r[2]=e[2],r[3]=e[3],r):[e[0],e[1],e[2],e[3]]},be.getElementIndex=function(e,n){return t.Check.typeOf.number.greaterThanOrEquals("row",n,0),t.Check.typeOf.number.lessThanOrEquals("row",n,1),t.Check.typeOf.number.greaterThanOrEquals("column",e,0),t.Check.typeOf.number.lessThanOrEquals("column",e,1),2*e+n},be.getColumn=function(e,n,r){t.Check.typeOf.object("matrix",e),t.Check.typeOf.number.greaterThanOrEquals("index",n,0),t.Check.typeOf.number.lessThanOrEquals("index",n,1),t.Check.typeOf.object("result",r);var a=2*n,i=e[a],u=e[a+1];return r.x=i,r.y=u,r},be.setColumn=function(e,n,r,a){t.Check.typeOf.object("matrix",e),t.Check.typeOf.number.greaterThanOrEquals("index",n,0),t.Check.typeOf.number.lessThanOrEquals("index",n,1),t.Check.typeOf.object("cartesian",r),t.Check.typeOf.object("result",a);var i=2*n;return(a=be.clone(e,a))[i]=r.x,a[i+1]=r.y,a},be.getRow=function(e,n,r){t.Check.typeOf.object("matrix",e),t.Check.typeOf.number.greaterThanOrEquals("index",n,0),t.Check.typeOf.number.lessThanOrEquals("index",n,1),t.Check.typeOf.object("result",r);var a=e[n],i=e[n+2];return r.x=a,r.y=i,r},be.setRow=function(e,n,r,a){return t.Check.typeOf.object("matrix",e),t.Check.typeOf.number.greaterThanOrEquals("index",n,0),t.Check.typeOf.number.lessThanOrEquals("index",n,1),t.Check.typeOf.object("cartesian",r),t.Check.typeOf.object("result",a),(a=be.clone(e,a))[n]=r.x,a[n+2]=r.y,a};var ke=new ye;be.getScale=function(e,n){return t.Check.typeOf.object("matrix",e),t.Check.typeOf.object("result",n),n.x=ye.magnitude(ye.fromElements(e[0],e[1],ke)),n.y=ye.magnitude(ye.fromElements(e[2],e[3],ke)),n};var xe=new ye;be.getMaximumScale=function(e){return be.getScale(e,xe),ye.maximumComponent(xe)},be.multiply=function(e,n,r){t.Check.typeOf.object("left",e),t.Check.typeOf.object("right",n),t.Check.typeOf.object("result",r);var a=e[0]*n[0]+e[2]*n[1],i=e[0]*n[2]+e[2]*n[3],u=e[1]*n[0]+e[3]*n[1],o=e[1]*n[2]+e[3]*n[3];return r[0]=a,r[1]=u,r[2]=i,r[3]=o,r},be.add=function(e,n,r){return t.Check.typeOf.object("left",e),t.Check.typeOf.object("right",n),t.Check.typeOf.object("result",r),r[0]=e[0]+n[0],r[1]=e[1]+n[1],r[2]=e[2]+n[2],r[3]=e[3]+n[3],r},be.subtract=function(e,n,r){return t.Check.typeOf.object("left",e),t.Check.typeOf.object("right",n),t.Check.typeOf.object("result",r),r[0]=e[0]-n[0],r[1]=e[1]-n[1],r[2]=e[2]-n[2],r[3]=e[3]-n[3],r},be.multiplyByVector=function(e,n,r){t.Check.typeOf.object("matrix",e),t.Check.typeOf.object("cartesian",n),t.Check.typeOf.object("result",r);var a=e[0]*n.x+e[2]*n.y,i=e[1]*n.x+e[3]*n.y;return r.x=a,r.y=i,r},be.multiplyByScalar=function(e,n,r){return t.Check.typeOf.object("matrix",e),t.Check.typeOf.number("scalar",n),t.Check.typeOf.object("result",r),r[0]=e[0]*n,r[1]=e[1]*n,r[2]=e[2]*n,r[3]=e[3]*n,r},be.multiplyByScale=function(e,n,r){return t.Check.typeOf.object("matrix",e),t.Check.typeOf.object("scale",n),t.Check.typeOf.object("result",r),r[0]=e[0]*n.x,r[1]=e[1]*n.x,r[2]=e[2]*n.y,r[3]=e[3]*n.y,r},be.negate=function(e,n){return t.Check.typeOf.object("matrix",e),t.Check.typeOf.object("result",n),n[0]=-e[0],n[1]=-e[1],n[2]=-e[2],n[3]=-e[3],n},be.transpose=function(e,n){t.Check.typeOf.object("matrix",e),t.Check.typeOf.object("result",n);var r=e[0],a=e[2],i=e[1],u=e[3];return n[0]=r,n[1]=a,n[2]=i,n[3]=u,n},be.abs=function(e,n){return t.Check.typeOf.object("matrix",e),t.Check.typeOf.object("result",n),n[0]=Math.abs(e[0]),n[1]=Math.abs(e[1]),n[2]=Math.abs(e[2]),n[3]=Math.abs(e[3]),n},be.equals=function(e,t){return e===t||n.defined(e)&&n.defined(t)&&e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]},be.equalsArray=function(e,t,n){return e[0]===t[n]&&e[1]===t[n+1]&&e[2]===t[n+2]&&e[3]===t[n+3]},be.equalsEpsilon=function(e,t,r){return r=n.defaultValue(r,0),e===t||n.defined(e)&&n.defined(t)&&Math.abs(e[0]-t[0])<=r&&Math.abs(e[1]-t[1])<=r&&Math.abs(e[2]-t[2])<=r&&Math.abs(e[3]-t[3])<=r},be.IDENTITY=Object.freeze(new be(1,0,0,1)),be.ZERO=Object.freeze(new be(0,0,0,0)),be.COLUMN0ROW0=0,be.COLUMN0ROW1=1,be.COLUMN1ROW0=2,be.COLUMN1ROW1=3,Object.defineProperties(be.prototype,{length:{get:function(){return be.packedLength}}}),be.prototype.clone=function(e){return be.clone(this,e)},be.prototype.equals=function(e){return be.equals(this,e)},be.prototype.equalsEpsilon=function(e,t){return be.equalsEpsilon(this,e,t)},be.prototype.toString=function(){return"("+this[0]+", "+this[2]+")\n("+this[1]+", "+this[3]+")"},e.Cartesian2=ye,e.Cartesian3=a,e.Cartesian4=X,e.Cartographic=m,e.Ellipsoid=w,e.Matrix2=be,e.Matrix3=R,e.Matrix4=K,e.Rectangle=se}));
//# sourceMappingURL=Matrix2-b06ef836.js.map
