<!DOCTYPE html>
<html lang="ko">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width">
	<title>MagoWorld</title>
	<link rel="stylesheet" href="../demo.css" />
	<script type="text/javascript" src="../../externlib/jquery/jquery.js"></script>
	<script type="text/javascript" src="../../build/mago3d/mago3d.js"></script>

</head>

<div id="menuContent" class="navContents">
	<div class="alignRight">
		<button type="button" id="menuContentClose" class="navClose">닫기</button>
	</div>
	
	<ul id="homeMenuContent" class="menuList">
		<li><a href="/homepage/index.do">Home</a></li>
		<li><a href="/homepage/about.do">mago3D</a></li>
		<li>Demo
			<ul>
				<li><a href="/sample/cesium.html">Cesium</a></li>
                <li><a href="/sample/worldwind.html">World Wind</a></li>
			</ul>
		</li>
		<li><a href="/homepage/download.do">Download</a></li>
		<li>Documentation
			<ul>
				<li><a href="http://www.mago3d.com/homepage/api.do">API</a></li>
				<li><a href="http://www.mago3d.com/homepage/spec.do">F4D Spec</a></li>
			</ul>
		</li>
		<li><a href="/homepage/faq.do">FAQ</a></li>
	</ul>
	
	<ul id="myIssueMenuContent" class="issueList">
		<li style="margin-bottom: 8px; font-size: 1em; font-weight: normal; color: #2955a6;">
			Show up to 10 latest issues.
		</li>
		<li>
			<button type="button" title="Shortcuts" 
				onclick="gotoIssue('3ds.json', '133', 'ISSUE_TYPE_MODIFY', '126.60660443089857', '37.582788710510506', '30.075205419163662', '2')">Shortcuts</button>
			<div class="info">
				<p class="title">
					<span>3DS Project</span>
					aaaaaaa
				</p>
				<ul class="tag">
					<li><span class="i3"></span>Modify</li>
					<li><span class="t4"></span>Low</li>
					<li class="date">2017-08-25 15:02:44</li>
				</ul>
			</div>
		</li>
		<li>
			<button type="button" title="Shortcuts" 
				onclick="gotoIssue('3ds.json', '129', 'ISSUE_TYPE_BUGGER', '126.60779951279575,', '37.582800047391295,', '38.95831222452215', '2')">Shortcuts</button>
			<div class="info">
				<p class="title">
					<span>3DS Project</span>
					test
				</p>
				<ul class="tag">
					<li><span class="i1"></span>Bugger</li>
					<li><span class="t1"></span>Very Important</li>
					<li class="date">2017-08-25 14:27:42</li>
				</ul>
			</div>
		</li>
		<li>
			<button type="button" title="Shortcuts" 
				onclick="gotoIssue('ifc_mep.json', '128', 'ISSUE_TYPE_BUGGER', '126.60860404195267', '37.58308164273416', '39.60458358315561', '2')">Shortcuts</button>
			<div class="info">
				<p class="title">
					<span>IFC(MEP)</span>
					test8
				</p>
				<ul class="tag">
					<li><span class="i1"></span>Bugger</li>
					<li><span class="t4"></span>Low</li>
					<li class="date">2017-08-21 14:49:50</li>
				</ul>
			</div>
		</li>
		<li>
			<button type="button" title="Shortcuts" 
				onclick="gotoIssue('sea_port.json', '127', 'ISSUE_TYPE_ETC', '126.60828025652438', '37.58302423952313', '39.61857390681989', '2')">Shortcuts</button>
			<div class="info">
				<p class="title">
					<span>Sea Port</span>
					test7
				</p>
				<ul class="tag">
					<li><span class="i4"></span>Etc</li>
					<li><span class="t3"></span>General</li>
					<li class="date">2017-08-21 14:43:54</li>
				</ul>
			</div>
		</li>
	</ul>
		
	<form id="searchForm" action="/homepage/demo.do" method="post" onsubmit="return false;">
	<div id="searchMenuContent" class="searchWrap">
		<table>
			<tr style="height: 35px;">
				<td style="width: 80px;"><label for="project_id">Project</label></td>
				<td><select id="project_id" name="project_id" class="select">
						<option value=""> ALL </option>
						<option value="1">3DS Project</option>
						<option value="2">Collada Project</option>
						<option value="3">IFC</option>
						<option value="4">IFC(MEP)</option>
						<option value="5">Sea Port</option>
					</select>
				</td>
			</tr>
			<tr style="height: 35px;">
				<td><label for="search_word">Category</label></td>
				<td>
					<select id="search_word" name="search_word" class="select">
						<option value="data_name">Data Name</option>
						<option value="title">Issue Name</option>
					</select>
					<select id="search_option" name="search_option" class="select">
						<option value="1">Included</option>
						<option value="0">Matches</option>
					</select>
				</td>
			</tr>
			<tr style="height: 35px;">
				<td>
				<label for="search_value">SearchWord</label></td>
				<td><input type="text" id="search_value" name="search_value" size="31" /></td>
			</tr>
			<tr style="height: 35px;">
				<td><label for="start_date">Date</label></td>
				<td><input type="text" class="s date" id="start_date" name="start_date" size="12" />
				<span class="delimiter tilde">~</span>
				<input type="text" class="s date" id="end_date" name="end_date" size="12" /></td>
			</tr>
			<tr style="height: 30px;">
				<td><label for="order_word">View Order</label></td>
				<td><select id="order_word" name="order_word" class="select">
					<option value=""> Basic </option>
			       	<option value="register_date"> Date </option>
				</select>
				<select id="order_value" name="order_value" class="select">
					<option value=""> Basic </option>
				   	<option value="ASC"> ASC </option>
					<option value="DESC"> DESC </option>
				</select>
				<select id="list_counter" name="list_counter" class="select">
					<option value="5"> listing 5 </option>
				 	<option value="10"> listing 10 </option>
					<option value="50"> listing 50 </option>
				</select>
				</td>
			</tr>
		</table>
		<div class="btns">
			<button type="button" id="searchData" class="full">Search</button>
		</div>
		<ul id="searchList" class="searchList"></ul>
	</div>
	</form>
	
	<div id="apiMenuContent" class="apiWrap">
		<div>
			<h3>Local(Browser) Search</h3>
			<ul class="apiLoca">
				<li>
					<label for="localSearchProjectId">Project </label>
					<select id="localSearchProjectId" name="localSearchProjectId" class="select">
						<option value="3ds.json">3DS Project</option>
						<option value="ifc_cultural_assets.json">IFC(Cultural Assets)</option>
						<option value="ifc.json">IFC</option>
						<option value="ifc_mep.json">IFC(MEP)</option>
						<option value="sea_port.json">Sea Port</option>
						<option value="collada.json">Collada Project</option>
						<option value="ifc_japan.json">IFC(japan)</option>
					</select>
				</li>
				<li>
					<label for="localSearchDataKey">Data Key</label>
					<input type="text" id="localSearchDataKey" name="localSearchDataKey" size="22" />
					<button type="button" id="localSearch" class="btn">Search</button> 
				</li>
			</ul>
		</div>
		<div>
			<h3>Property Rendering</h3>
			<ul class="apiLoca">
				<li>
					<input type="radio" id="showPropertyRendering" name="propertyRendering" value="true" />
					<label for="showLabel"> Show </label>
					<input type="radio" id="hidePropertyRendering" name="propertyRendering" value="false" />
					<label for="hideLabel"> Hide </label>
				</li>
				<li>
					<label for="propertyRenderingProjectId">Project </label>
					<select id="propertyRenderingProjectId" name="propertyRenderingProjectId" class="select">
						<option value="3ds.json">3DS Project</option>
						<option value="ifc_cultural_asserts.json">IFC(Cultural Assets)</option>
						<option value="ifc.json">IFC</option>
						<option value="ifc_mep.json">IFC(MEP)</option>
						<option value="sea_port.json">Sea Port</option>
						<option value="collada.json">Collada Project</option>
						<option value="ifc_japan.json">IFC(japan)</option>
					</select>
				</li>
				<li>
					<label for="propertyRenderingWord">Property</label>
					<input type="text" id="propertyRenderingWord" name="propertyRenderingWord" size="21" placeholder="isMain=true" />
					<button type="button" id="changePropertyRendering" class="btn">Change</button> 
				</li>
			</ul>
		</div>
		<div>
			<h3>Color Change</h3>
			<ul class="apiLoca">
				<li>
					<label for="colorProjectId">Project </label>
					<select id="colorProjectId" name="colorProjectId" class="select">
						<option value="3ds.json">3DS Project</option>
						<option value="ifc_cultural_asserts.json">IFC(Cultural Assets)</option>
						<option value="ifc.json">IFC</option>
						<option value="ifc_mep.json">IFC(MEP)</option>
						<option value="sea_port.json">Sea Port</option>
						<option value="collada.json">Collada Project</option>
						<option value="ifc_japan.json">IFC(japan)</option>
					</select>
				</li>
				<li>
					<label for="colorDataKey">Data Key</label>
					<input type="text" id="colorDataKey" name="colorDataKey" size="30" />
				</li>
				<li>
					<label for="colorObjectIds">Object Id</label>
					<input type="text" id="colorObjectIds" name="colorObjectIds" placeholder=" , Delimiter" size="30" />
				</li>
				<li>
					<label for="colorProperty">Property</label>
					<input type="text" id="colorProperty" name="colorProperty" size="30" placeholder="isMain=true" />
				</li>
				<li>
					<label for="updateColor">Color</label>
					<select id="updateColor" name="updateColor" class="select">
						<option value="255,0,0"> Red </option>
						<option value="255,255,0"> Yellow </option>
						<option value="0,255,0"> Green </option>
						<option value="0,0,255"> Blue </option>
						<option value="255,0,255"> Pink </option>
						<option value="0,0,0"> Black </option>
					</select>
					<button type="button" id="changeColor" class="btn">Change</button> 
					<button type="button" id="deleteAllChangeColor" class="btn">All Delete</button>
				</li>
			</ul>
		</div>
		<div>
			<h3>Location and Rotation</h3>
			<ul class="apiLoca">
				<li>
					<label for="moveProjectId">Project </label>
					<select id="moveProjectId" name="moveProjectId" class="select">
						<option value="3ds.json">3DS Project</option>
						<option value="ifc_cultural_asserts.json">IFC(Cultural Assets)</option>
						<option value="ifc.json">IFC</option>
						<option value="ifc_mep.json">IFC(MEP)</option>
						<option value="sea_port.json">Sea Port</option>
						<option value="collada.json">Collada Project</option>
						<option value="ifc_japan.json">IFC(japan)</option>
					</select>
				</li>
				<li>
					<label for="moveDataKey">Data Key</label>
					<input type="text" id="moveDataKey" name="moveDataKey" size="25" />
				</li>
				<li>
					<label for="moveLatitude">Latitude </label>
					<input type="text" id="moveLatitude" name="moveLatitude" size="25"/>
				</li>
				<li>
					<label for="moveLongitude">Longitude </label>
					<input type="text" id="moveLongitude" name="moveLongitude" size="25"/>
				</li>
				<li>
					<label for="moveHeight">Altitude </label>
					<input type="text" id="moveHeight" name="moveHeight" size="25" />
				</li>
				<li>
					<label for="moveHeading">HEADING </label>
					<input type="text" id="moveHeading" name="moveHeading" size="15" />
				</li>
				<li>
					<label for="movePitch">PITCH </label>
					<input type="text" id="movePitch" name="movePitch" size="15" />
				</li>
				<li>
					<label for="moveRoll">ROLL </label>
					<input type="text" id="moveRoll" name="moveRoll" size="15" />
					<button type="button" id="changeLocationAndRotation" class="btn">Change</button>
					<button type="button" id="saveLocationAndRotation" class="btn">Save</button>
				</li>
			</ul>
		</div>
		<div>
			<h3>Issue Lists(100) near current location</h3>
			<input type="radio" id="showNearGeoIssueList" name="nearGeoIssueList" value="true" onclick="changeNearGeoIssueList(true);" />
			<label for="showNearGeoIssueList"> Show </label>
			<input type="radio" id="hideNearGeoIssueList" name="nearGeoIssueList" value="false" onclick="changeNearGeoIssueList(false);"/>
			<label for="hideNearGeoIssueList"> Hide </label>
		</div>
		<div>
			<h3>About the location of the click point</h3>
			<ul class="apiLoca">
				<li>
					<label for="positionLatitude"> Latitude </label>
					<input type="text" id="positionLatitude" name="positionLatitude" size="25" />
				</li>
				<li>
					<label for="positionLongitude"> Longitude </label>
					<input type="text" id="positionLongitude" name="positionLongitude" size="25" />
				</li>
				<li>
					<label for="positionAltitude"> Altitude </label>
					<input type="text" id="positionAltitude" name="positionAltitude" size="25" />
				</li>
			</ul>
		</div>
	</div>
	
	<form id="issue" action="/homepage/demo.do" method="post" onsubmit="return false;">
	<div id="insertIssueMenuContent" class="insertIssueWrap">
		<table>
			<tr style="height: 35px;">
				<td style="width: 100px;" nowrap="nowrap">
					<label for="issueProjectId">Project</label>
					<span class="icon-glyph glyph-emark-dot color-warning"></span>
				</td>
				<td>
					<select id="issueProjectId" name="issueProjectId" class="select">
						<option value="3ds.json">3DS Project</option>
						<option value="ifc_cultural_assets.json">IFC(Cultural Assets)</option>
						<option value="ifc.json">IFC</option>
						<option value="ifc_mep.json">IFC(MEP)</option>
						<option value="sea_port.json">Sea Port</option>
						<option value="collada.json">Collada Project</option>
						<option value="ifc_japan.json">IFC(japan)</option>
					</select>
				</td>
			</tr>
			<tr style="height: 35px;">
				<td>
					<label for="issue_type">Type</label>
					<span class="icon-glyph glyph-emark-dot color-warning"></span>
				</td>
				<td>
					<select id="issue_type" name="issue_type" class="select">
						<option value="ISSUE_TYPE_BUGGER">Bugger</option>
						<option value="ISSUE_TYPE_IMPROVE">Improve</option>
						<option value="ISSUE_TYPE_MODIFY">Modify</option>
						<option value="ISSUE_TYPE_ETC">Etc</option>
					</select>
				</td>
			</tr>
			<tr style="height: 35px;">
				<td>
					Issue Location
				</td>
				<td>
					<button type="button" id="insertIssueEnableButton" class="btn">Please select object after click.</button> 
				</td>
			</tr>
			<tr style="height: 35px;">
				<td>
					<label for="data_key">Data Name</label>
					<span class="icon-glyph glyph-emark-dot color-warning"></span>
				</td>
				<td>
					<input id="data_key" name="data_key" style="background-color: #CBCBCB;" readonly="readonly" type="text" value="" size="25"/>
					<input id="object_key" name="object_key" type="hidden" value=""/>
					<input id="height" name="height" type="hidden" value=""/>
				</td>
			</tr>
			<tr style="height: 35px;">
				<td>
					<label for="latitude">Latitude</label>
					<span class="icon-glyph glyph-emark-dot color-warning"></span>
				</td>
				<td>
					<input id="latitude" name="latitude" style="background-color: #CBCBCB;" readonly="readonly" type="text" value="" size="25"/>
					
				</td>
			</tr>
			<tr style="height: 35px;">
				<td>
					<label for="longitude">Longitude</label>
					<span class="icon-glyph glyph-emark-dot color-warning"></span>
				</td>
				<td>
					<input id="longitude" name="longitude" style="background-color: #CBCBCB;" readonly="readonly" type="text" value="" size="25"/>
					
				</td>
			</tr>
			<tr style="height: 60px;">
				<td><label for="title">Title</label>
					<span class="icon-glyph glyph-emark-dot color-warning"></span>
				</td>
				<td>
					<textarea id="title" name="title" rows="2" cols="32">
					</textarea>
				</td>
			</tr>
			<tr style="height: 35px;">
				<td><label for="priority">Priority</label>
					<span class="icon-glyph glyph-emark-dot color-warning"></span>
				</td>
				<td>
					<select id="priority" name="priority" class="select">
						<option value="ISSUE_PRIORITY_LEVEL1">Very Important</option>
						<option value="ISSUE_PRIORITY_LEVEL2">Important</option>
						<option value="ISSUE_PRIORITY_LEVEL3">General</option>
						<option value="ISSUE_PRIORITY_LEVEL4">Low</option>
					</select>
				</td>
			</tr>
			<tr style="height: 35px;">
				<td><label for="due_day">Due Date</label></td>
				<td><input id="due_date" name="due_date" type="hidden" value=""/>
					<input type="text" id="due_day" name="due_day" class="date" size="10" maxlength="10" />
					D&nbsp;&nbsp;
					<input type="text" id="due_hour" name="due_hour" placeholder=" 00" size="2" maxlength="2" /> :
					<input type="text" id="due_minute" name="due_minute" placeholder=" 00" size="2" maxlength="2" />
					M
				</td>
			</tr>
			<tr style="height: 35px;">
				<td><label for="assignee">Assignee</label></td>
				<td><input id="assignee" name="assignee" class="m" placeholder=" assignee" type="text" value="" size="23"/>
					<button type="button" class="btn" onclick="alert('Comming Soon...');">Select</button> 
				</td>
			</tr>
			
			<tr style="height: 35px;">
				<td><label for="reporter">reporter</label></td>
				<td><input id="reporter" name="reporter" class="m" placeholder=" Reporter" type="text" value="" size="23"/>
					<button type="button" class="btn" onclick="alert('Comming Soon...');">Select</button> 
				</td>
			</tr>
			
			<tr>
				<td><label for="contents">Contents</label>
					<span class="icon-glyph glyph-emark-dot color-warning"></span>
				</td>
				<td><textarea id="contents" name="contents" rows="5" cols="32">
					</textarea>
				</td>
			</tr>
		</table>
		
		<div class="btns">
			<button type="button" id="issueSaveButton" class="full">Save</button>
		</div>
	</div>
	</form>

	<div id="treeMenuContent" class="treeWrap">
		<div>
			<h3>Data Tree</h3>
			<ul>
				<li>
					<label for="treeProjectId">Project </label>
					<select id="treeProjectId" name="treeProjectId" onchange="initDataTree();" class="select">
						<option value="3ds.json">3DS Project</option>
						<option value="ifc_cultural_assets.json">IFC(Cultural Assets)</option>
						<option value="ifc.json">IFC</option>
						<option value="ifc_mep.json">IFC(MEP)</option>
						<option value="sea_port.json">Sea Port</option>
						<option value="collada.json">Collada Project</option>
						<option value="ifc_japan.json">IFC(japan)</option>
					</select>
				</li>
			</ul>
		</div>
		<div style="margin-top: 20px; margin-left: 10px; margin-bottom: 20px;">
			<table id="dataTree" class="table dataTree table-bordered table-striped table-condensed" style="padding-bottom: 20px; width:310px;">
			</table>
		</div>
	</div>

	<div id="chartMenuContent" class="chartWrap">
		<div>
			<h3>Number of data by project</h3>
		</div>
		<div id="projectChart" style="width: 340px; height: 340px; font-size: 18px;"></div>
		<div style="margin-top: 30px;">
			<h3>Full data status</h3>
		</div>
		<div id="dataStatusChart" style="width: 340px; height: 340px; font-size: 18px;"></div>
	</div>

	<div id="logMenuContent" class="logWrap">
		<div>
			<h3>Log of data change request</h3>
		</div>
		<table class="list-table scope-col" style="width: 100%; margin-top: 10px;">
			<col class="col-number" />
			<col class="col-name" />
			<col class="col-name" />
			<col class="col-toggle" />
			<col class="col-date" />
			<tr>
				<th rowspan="2" scope="col" class="col-number">No</th>
				<th scope="col" class="col-name">Name</th>
				<th scope="col" class="col-name">Data Name</th>
			</tr>
			<tr>
				<th scope="col" class="col-toggle">Status</th>
				<th scope="col" class="col-date">Date</th>
			</tr>
			<tr style="height: 30px;">
				<td rowspan="2">9</td>
				<td>gt1000</td>
				<td><a href="#" onclick="dataChangeLog('mapoartcenter_del'); return false;">mapoartcenter_del</a></td>
			</tr>
			<tr style="height: 30px;">
				<td>Waiting</td>
				<td>2018-03-02</td>
			</tr>
			<tr style="height: 30px;">
				<td rowspan="2">8</td>
				<td>Admin</td>
				<td><a href="#" onclick="dataChangeLog('fm_dyna_0001'); return false;">fm_dyna_0001</a></td>
			</tr>
			<tr style="height: 30px;">
				<td>Waiting</td>
				<td>2018-02-27</td>
			</tr>
			<tr style="height: 30px;">
				<td rowspan="2">7</td>
				<td>Kimkiyoung</td>
				<td><a href="#" onclick="dataChangeLog('KSJ_180'); return false;">KSJ_180</a></td>
			</tr>
			<tr style="height: 30px;">
				<td style="color:red"><b>Reject</b></td>
				<td>2018-02-27</td>
			</tr>
			<tr style="height: 30px;">
				<td rowspan="2">6</td>
				<td>Parkjinwoo</td>
				<td><a href="#" onclick="dataChangeLog('KSJ_330'); return false;">KSJ_330</a></td>
			</tr>
			<tr style="height: 30px;">
				<td style="color:blue"><b>Complete</b></td>
				<td>2018-02-24</td>
			</tr>
			<tr style="height: 30px;">
				<td rowspan="2">5</td>
				<td>홍길동</td>
				<td><a href="#" onclick="dataChangeLog('Lara_Croft'); return false;">Lara_Croft</a></td>
			</tr>
			<tr style="height: 30px;">
				<td style="color:blue"><b>Complete</b></td>
				<td>2018-02-10</td>
			</tr>
			<tr style="height: 30px;">
				<td rowspan="2">4</td>
				<td>Admin</td>
				<td><a href="#" onclick="dataChangeLog('Grendizer'); return false;">Grendizer</a></td>
			</tr>
			<tr style="height: 30px;">
				<td style="color:blue"><b>Complete</b></td>
				<td>2018-02-01</td>
			</tr>
			<tr style="height: 30px;">
				<td rowspan="2">3</td>
				<td>Admin</td>
				<td><a href="#" onclick="dataChangeLog('SEOULHISTORICA_del'); return false;">SEOULHISTORICA_del</a></td>
			</tr>
			<tr style="height: 30px;">
				<td style="color:blue"><b>Complete</b></td>
				<td>2018-01-14</td>
			</tr>
			<tr style="height: 30px;">
				<td rowspan="2">2</td>
				<td>Test</td>
				<td><a href="#" onclick="dataChangeLog('Factory Kitbash'); return false;">Factory Kitbash</a></td>
			</tr>
			<tr style="height: 30px;">
				<td style="color:red"><b>Reject</b></td>
				<td>2018-01-11</td>
			</tr>
			<tr style="height: 30px;">
				<td rowspan="2">1</td>
				<td>gt1000</td>
				<td><a href="#" onclick="dataChangeLog('SD_COUNCIL_del'); return false;">SD_COUNCIL_del</a></td>
			</tr>
			<tr style="height: 30px;">
				<td style="color:blue"><b>Complete</b></td>
				<td>2018-01-08</td>
			</tr>
		</table>
	</div>

	<form id="attributeForm" action="#" method="post" onsubmit="return false;">
	<div id="attributeMenuContent" class="attributeWrap">
		<div>
			<h3>Object Attribute Search</h3>
		</div>
		<table style="margin-top: 30px;">
			<tr style="height: 35px;">
				<td style="width: 80px;"><label for="objectAttributeProjectId">Project</label></td>
				<td><select id="objectAttributeProjectId" name="objectAttributeProjectId" class="select">
					<option value=""> ALL </option>
					<option value="1">3DS Project</option>
					<option value="2">Collada Project</option>
					<option value="3">IFC</option>
					<option value="4">IFC(MEP)</option>
					<option value="5">Sea Port</option>
				</select>
				</td>
			</tr>
			<tr style="height: 35px;">
				<td><label for="objectAttributeDataKey">Data Key</label></td>
				<td>
					<input type="text" id="objectAttributeDataKey" name="objectAttributeDataKey" size="22" />
				</td>
			</tr>
			<tr style="height: 35px;">
				<td><label for="objectAttributeObjectId">Object Id</label></td>
				<td>
					<input type="text" id="objectAttributeObjectId" name="objectAttributeObjectId" size="22" />
				</td>
			</tr>
			<tr style="height: 35px;">
				<td>
					<label for="objectAttributeSearchValue">SearchWord</label></td>
				<td><input type="text" id="objectAttributeSearchValue" name="objectAttributeSearchValue" size="31" /></td>
			</tr>
		</table>
		<div class="btns">
			<button type="button" id="objectAttributeSearch" class="full">Search</button>
		</div>
		<table id="objectAttributeSearchList" class="" style="width: 100%;">
			<col style="width: 30%;" />
			<col style="width: 40%;" />
			<col style="width: 30%;" />
			<tbody></tbody>
		</table>
	</div>
	</form>

	<div id="configMenuContent" class="configWrap">
		<div>
			<h3>Label</h3>
			<input type="radio" id="showLabel" name="labelInfo" value="true" onclick="changeLabel(true);" />
			<label for="showLabel"> Show </label>
			<input type="radio" id="hideLabel" name="labelInfo" value="false" onclick="changeLabel(false);"/>
			<label for="hideLabel"> Hide </label>
		</div>
		<div>
			<h3>Object Information</h3>
			<input type="radio" id="showObjectInfo" name="objectInfo" value="true" onclick="changeObjectInfoViewMode(true);" />
			<label for="showObjectInfo"> Show </label>
			<input type="radio" id="hideObjectInfo" name="objectInfo" value="false" onclick="changeObjectInfoViewMode(false);"/>
			<label for="hideObjectInfo"> Hide </label>
		</div>
        <div>
            <h3>Origin</h3>
            <input type="radio" id="showOrigin" name="origin" value="true" onclick="changeOrigin(true);" />
            <label for="showOrigin"> Show </label>
            <input type="radio" id="hideOrigin" name="origin" value="false" onclick="changeOrigin(false);"/>
            <label for="hideOrigin"> Hide </label>
        </div>
		<div>
			<h3>Bounding Box</h3>
			<input type="radio" id="showBoundingBox" name="boundingBox" value="true" onclick="changeBoundingBox(true);" />
			<label for="showBoundingBox"> Show </label>
			<input type="radio" id="hideBoundingBox" name="boundingBox" value="false" onclick="changeBoundingBox(false);"/>
			<label for="hideBoundingBox"> Hide </label>
		</div>
		<div>
			<h3>Selecting And Moving</h3>
			<input type="radio" id="objectNoneMove" name="objectMoveMode" value="2" onclick="changeObjectMove('2');"/>
			<label for="objectNoneMove"> None </label>
			<input type="radio" id="objectAllMove" name="objectMoveMode" value="0" onclick="changeObjectMove('0');"/>
			<label for="objectAllMove"> ALL </label>
			<input type="radio" id="objectMove" name="objectMoveMode" value="1" onclick="changeObjectMove('1');"/>
			<label for="objectMove"> Object </label>
			
			<button type="button" id="saveObjectMoveButton" class="btn">Save</button>
			<button type="button" id="deleteAllObjectMoveButton" class="btn">All Delete</button>
		</div>
		<div>
			<h3>Object Occlusion Culling</h3>
			<div style="height: 30px;">
				<div style="display: inline-block; width: 70px;">Select</div>
				<input type="radio" id="useOcclusionCulling" name="occlusionCulling" value="true" />
				<label for="useOcclusionCulling"> Use </label>
				<input type="radio" id="unusedOcclusionCulling" name="occlusionCulling" value="false" />
				<label for="unusedOcclusionCulling"> Unused </label>
			</div>
			<div style="height: 30px;">
				<div style="display: inline-block; width: 70px;">Data Key</div>
				<input type="text" id="occlusion_culling_data_key" name="occlusion_culling_data_key" size="22" />
				<button type="button" id="changeOcclusionCullingButton" class="btn">Change</button>
			</div>
		</div>
		<div>
			<h3>LOD</h3>
			<div style="height: 30px;">
				<div style="display: inline-block; width: 70px;">LOD0</div>
				<input type="text" id="geo_lod0" name="geo_lod0" value="15" size="15" />&nbsp;M
			</div>
			<div style="height: 30px;">
				<div style="display: inline-block; width: 70px;">LOD1</div>
				<input type="text" id="geo_lod1" name="geo_lod1" value="60" size="15" />&nbsp;M
			</div>
			<div style="height: 30px;">
				<div style="display: inline-block; width: 70px;">LOD2</div>
				<input type="text" id="geo_lod2" name="geo_lod2" value="90" size="15" />&nbsp;M
			</div>
			<div style="height: 30px;">
				<div style="display: inline-block; width: 70px;">LOD3</div>
				<input type="text" id="geo_lod3" name="geo_lod3" value="200" size="15" />&nbsp;M
			</div>
			<div style="height: 30px;">
				<div style="display: inline-block; width: 70px;">LOD4</div>
				<input type="text" id="geo_lod4" name="geo_lod4" value="1000" size="15" />&nbsp;M
			</div>
			<div style="height: 30px;">
				<div style="display: inline-block; width: 70px;">LOD5</div>
				<input type="text" id="geo_lod5" name="geo_lod5" value="50000" size="15" />&nbsp;M&nbsp;&nbsp;
				<button type="button" id="changeLodButton" class="btn">Change</button>
			</div>
		</div>
		<div>
			<h3>Lighting</h3>
			<div style="height: 30px;">AmbientReflectionCoeficient</div>
			<div id="ambient_reflection_coef" style="display: inline-block; width: 225px;">
				<div id="geo_ambient_reflection_coef_view" class="ui-slider-handle"></div>
				<input type="hidden" id="geo_ambient_reflection_coef" name="geo_ambient_reflection_coef" value="0.5" />
			</div>
			<div style="height: 30px;">DiffuseReflectionCoeficient</div>
			<div id="diffuse_reflection_coef" style="display: inline-block; width: 225px;">
				<div id="geo_diffuse_reflection_coef_view" class="ui-slider-handle"></div>
				<input type="hidden" id="geo_diffuse_reflection_coef" name="geo_diffuse_reflection_coef" value="1" />
			</div>
			<div style="height: 30px;">SpecularReflectionCoeficient</div>
			<div>
				<div id="specular_reflection_coef" style="display: inline-block; width: 225px;">
					<div id="geo_specular_reflection_coef_view" class="ui-slider-handle"></div>
					<input type="hidden" id="geo_specular_reflection_coef" name="geo_specular_reflection_coef" value="1" />
				</div>
				<div style="float: right;">
					<button type="button" id="changeLightingButton" class="btn">Change</button>
				</div>
			</div>
			<div style="text-align: center">
			</div>
		</div>
		
		<div>
			<h3><label for="geo_ssao_radius">SSAO Radius</label></h3>
			<input type="text" id="geo_ssao_radius" name="geo_ssao_radius" />
			<button type="button" id="changeSsaoRadiusButton" class="btn">Change</button>
		</div>
		
		<div>
			<h3>View Mode</h3>
			<input type="radio" id="mode3PV" name="viewMode" value ="false" onclick="changeViewMode(false);"/>
			<label for="mode3PV"> Third Person Mode </label>
			<input type="radio" id="mode1PV" name="viewMode" value ="true" onclick="changeViewMode(true);"/>
			<label for="mode1PV"> First Person Mode </label>
		</div>
		
		<div>
			<h3>Mago Mode</h3>
			<input type="radio" id="magoModeNormal" name="magoMode" value ="false" onclick="changeMagoMode(false);"/>
			<label for="magoModeNormal"> Normal </label>
			<input type="radio" id="magoModeDrawing" name="magoMode" value ="true" onclick="changeMagoMode(true);"/>
			<label for="magoModeDrawing"> Drawing </label>
		</div>
	</div>
</div>

<ul class="shortcut">
	<li onclick="gotoProject('3ds.json', '126.6113', '37.58210', '1000', '3')">3DS Project</li>
	<li onclick="gotoProject('ifc_cultural_assets.json', '126.97772995695296', '37.57981', '80', '3')">IFC(Cultural Assets)</li>
	<li onclick="gotoProject('ifc.json', '-58.787', '-62.2237', '270', '5')">IFC</li>
	<li onclick="gotoProject('ifc_mep.json', '126.738234', '37.6636', '150', '3')">IFC(MEP)</li>
	<li onclick="gotoProject('sea_port.json', '126.598426', '37.440778', '630', '3')">Sea Port</li>
	<li onclick="gotoProject('collada.json', '126.7987', '37.567450', '370', '3')">Collada Project</li>
	<li onclick="gotoProject('ifc_japan.json', '139.6842', '35.6624', '320', '3')">IFC(Japan)</li>
	<li onclick="gotoProject('sejong.json', '127.26557490316421', '36.5010938719156', '320', '3')">Sejong City</li>
	<li onclick="gotoProject('jejuGolfPark.json', '126.40124780685491', '33.341752923479696', '320', '3')">Jeju Golf</li>
</ul>


<body>
<ul class="nav">
	<li id="homeMenu" class="home">
		<img src="/images/ko/homepage/home-icon.png" style="width: 35px; height: 35px; padding-right: 2px;" title="Home" />
	</li>
	<li id="myIssueMenu" class="issue" data-tooltip-text="Shows the latest 10 issues sorted chronologically from the entire Issue List.">Issue
		<br/><span id="issueListCount">4</span></li>
	<li id="configMenu" class="config" data-tooltip-text="Settings related to rendering.">Settings</li>
</ul>

<div style="position: absolute; width:100%; height:100%; margin-top:0; padding:0; overflow:hidden;">
	<canvas id="magoContainer" style="width:100%; height:100%">
        Your browser does not support HTML5 Canvas.
    </canvas>
	<canvas id="objectLabel"></canvas>
</div>

<script>
	var managerFactory = null;
	var insertIssueEnable = false;

	var imagePath = "/images/ko";
	var dataInformationUrl = "/sample/persistence/json/";
	magoStart(null, "magoContainer", imagePath);
	var intervalCount = 0;
	var timerId = setInterval("startMogoUI()", 1000);
	var magoWorld;

	function startMogoUI() {
		intervalCount++;
		if(managerFactory != null && managerFactory.getMagoManagerState() === Mago3D.CODE.magoManagerState.READY) {
			clearInterval(timerId);
			console.log(" managerFactory != null, managerFactory.getMagoManagerState() = " + managerFactory.getMagoManagerState() + ", intervalCount = " + intervalCount);
			return;
		}
		console.log("--------- intervalCount = " + intervalCount);
	}

    // mago3d start, policy loading
	function magoStart(viewer, renderDivId, imagePath) {
		$.ajax({
			url: dataInformationUrl + "policy-magoworld.json",
			type: "GET",
			dataType: "json",
			success: function(serverPolicy){
				loadData(viewer, renderDivId, serverPolicy);
			},
			error: function(e){
				alert(e.responseText);
			}
		});
	}

	// init project load
	function loadData(viewer, renderDivId, serverPolicy) {
		if(serverPolicy.geo_data_default_projects === null || serverPolicy.geo_data_default_projects.length < 1) {
			managerFactory = new ManagerFactory(viewer, renderDivId, serverPolicy, null, null, null, imagePath);	
		} else {
			var defaultProjectArray = serverPolicy.geo_data_default_projects;
			var projectIdArray = new Array(defaultProjectArray.length);
			var projectDataArray = new Array(defaultProjectArray.length);
			var projectDataFolderArray = new Array(defaultProjectArray.length);
			
			var dataCount = 0;
			defaultProjectArray.forEach(function(projectId, index) {
				projectIdArray[index] = projectId;
				//console.log("url = " + dataInformationUrl + projectId);
				$.ajax({
					url: dataInformationUrl + projectId,
					type: "GET",
					dataType: "json",
					success: function(serverData) {
						//console.log("index = " + index + ", data = " + serverData);
						projectDataArray[index] = serverData;
						projectDataFolderArray[index] = serverData.data_key;
						if(defaultProjectArray.length === (dataCount + 1)) {
							createManagerFactory(viewer, renderDivId, serverPolicy, projectIdArray, projectDataArray, projectDataFolderArray, imagePath);
						}
						dataCount++;
					},
					error: function(e){
						alert(e.responseText);
					}
				});
			});
		}
	}
	
	function createManagerFactory(viewer, renderDivId, serverPolicy, projectIdArray, projectDataArray, projectDataFolderArray, imagePath) {
		managerFactory = new Mago3D.ManagerFactory(viewer, renderDivId, serverPolicy, projectIdArray, projectDataArray, projectDataFolderArray, imagePath);
		magoWorld = managerFactory.getViewer();
		animationLoop();
	}
	
	function gotoProject(projectId, longitude, latitude, height, duration) {
		var projectData = getDataAPI(Mago3D.CODE.PROJECT_ID_PREFIX + projectId);
		if (projectData === null || projectData === undefined) {
			$.ajax({
				url: dataInformationUrl + projectId,
				type: "GET",
				dataType: "json",
				success: function(serverData) {
					gotoProjectAPI(managerFactory, projectId, serverData, serverData.data_key, longitude, latitude, height, duration);		
				},
				error : function(request, status, error) {
					console.log("code : " + request.status + "\n" + "message : " + request.responseText + "\n" + "error : " + error);
				}
			});
		} else {
			gotoProjectAPI(managerFactory, projectId, projectData, projectData.data_key, longitude, latitude, height, duration);	
		}
		
		// 현재 좌표를 저장
		saveCurrentLocation(latitude, longitude);
	}
	
	function saveCurrentLocation(latitude, longitude) {
		// 현재 좌표를 저장
		$("#now_latitude").val(latitude);
		$("#now_longitude").val(longitude);
	}
	
	//ANIMATION FUNCTION (to be passed a callback)  see also http://www.paulirish.com/2011/requestanimationframe-for-smart-animating/
	window.requestAnimFrame = ( function() {
   
    return  window.requestAnimationFrame || 
            window.webkitRequestAnimationFrame ||  
            window.mozRequestAnimationFrame || 
            window.oRequestAnimationFrame || 
            window.msRequestAnimationFrame ||
    
    // if none of the above, use non-native timeout method
    function(callback) {
      window.setTimeout(callback, 1000 / 60);
    };
	} ) (); 
  
	function animationLoop(){
	// feedback loop requests new frame
	requestAnimFrame( animationLoop );
	// render function is defined below
	render(); 
	}

	function render(){
	   magoWorld.renderScene();
	}
	
	// Menu slide.****************************************************************************************************************************
	var menuObject = { homeMenu : false, myIssueMenu : false, searchMenu : false, apiMenu : false, insertIssueMenu : false, treeMenu : false, chartMenu : false, logMenu : false, attributeMenu : false, configMenu : false };
	$("#configMenu").click(function() {
		menuSlideControl("configMenu");
	});
	function menuSlideControl(menuName) {
		var compareMenuState = menuObject[menuName];
		for(var key in menuObject) {
		    // state 값 변경하고, css 변경
			if(key === menuName) {
			    var value = menuObject[key];
				if(value) {
					$("#" + menuName).removeClass("on");
					$("#menuContent").hide();
					$("#" + menuName + "Content").hide();
				} else {
					$("#" + menuName).addClass("on");
					$("#menuContent").show();
					$("#" + menuName + "Content").show();
				}
				menuObject[menuName] = !compareMenuState;
			} else {
				$("#" + key).removeClass("on");
				$("#" + key + "Content").hide();
			}
		}
	}
	
	function changeMagoMode(magoMode) {
		$("input:radio[name='magoMode']:radio[value='" + magoMode + "']").prop("checked", true);
		changeMagoModeAPI(managerFactory, magoMode);
	}
	
	// 마우스 클릭 객체 이동 모드 변경
	function changeObjectMove(objectMoveMode) {
		$("input:radio[name='objectMoveMode']:radio[value='" + objectMoveMode + "']").prop("checked", true);
		changeObjectMoveAPI(managerFactory, objectMoveMode);
		// ALL 인 경우 Origin도 같이 표시
        var originValue = $(':radio[name="origin"]:checked').val();
        if(objectMoveMode === "0") {
		    if(originValue === "true") {
            } else {
            }
            changeOriginAPI(managerFactory, true);
        } else {
            if(originValue === "true") {
            } else {
                changeOriginAPI(managerFactory, false);
            }
        }
	}

</script>
</body>
</html>